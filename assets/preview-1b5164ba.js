import{_ as y}from"./iframe-f0b11885.js";import{e as O}from"./index-7d65060f.js";const{addons:N}=__STORYBOOK_MODULE_PREVIEW_API__,{global:T}=__STORYBOOK_MODULE_GLOBAL__;var o="storybook/a11y",D=`${o}/result`,L=`${o}/request`,w=`${o}/running`,A=`${o}/error`,V=`${o}/manual`,c={RESULT:D,REQUEST:L,RUNNING:w,ERROR:A,MANUAL:V},{document:p}=T,f=N.getChannel(),S={config:{},options:{}},I=["region"],R=[],E=!1,v=async()=>{if(R.length===0){E=!1;return}E=!0;let n=R.shift();n&&await n(),v()},g=async(n=S)=>{let{default:a}=await y(()=>import("./axe-db713ca6.js").then(t=>t.a),["assets/axe-db713ca6.js","assets/_commonjsHelpers-725317a4.js"]),{element:r="body",config:e={},options:s={}}=n,i=p.querySelector(r)??p.body;if(!i)return;a.reset();let l={...e,rules:[...I.map(t=>({id:t,enabled:!1})),...(e==null?void 0:e.rules)??[]]};return a.configure(l),new Promise((t,u)=>{let d=async()=>{try{let _=await a.run(i,s);t(_)}catch(_){u(_)}};R.push(d),E||v()})};f.on(c.MANUAL,async(n,a=S)=>{try{let r=await g(a),e=JSON.parse(JSON.stringify(r));f.emit(c.RESULT,e,n)}catch(r){f.emit(c.ERROR,r)}});function h(){try{return{BASE_URL:"/design-system-react",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}.VITEST_STORYBOOK==="false"}catch{return!1}}var m=!1,b=async({reporting:n,parameters:a,globals:r})=>{let e=a.a11y,s=r.a11y,i=(e==null?void 0:e.manual)!==!0&&(e==null?void 0:e.disable)!==!0&&(e==null?void 0:e.test)!=="off"&&(s==null?void 0:s.manual)!==!0,l=()=>{switch(e==null?void 0:e.test){case"todo":return"warning";case"error":default:return"failed"}};if(i)try{let t=await g(e);if(t){let u=((t==null?void 0:t.violations.length)??0)>0;if(n.addReport({type:"a11y",version:1,result:t,status:u?l():"passed"}),h()&&u&&l()==="failed"){if(!m){let{toHaveNoViolations:d}=await y(()=>import("./matchers-7Z3WT2CE-7592e342.js"),[]);O.extend({toHaveNoViolations:d}),m=!0}O(t).toHaveNoViolations()}}}catch(t){if(n.addReport({type:"a11y",version:1,result:{error:t},status:"failed"}),h())throw t}},M={a11y:{manual:!1}},B={a11y:{test:"todo"}};export{b as experimental_afterEach,M as initialGlobals,B as parameters};
