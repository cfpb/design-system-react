{"version":3,"file":"preview.00abb420.js","sources":["../../node_modules/display-element-css/dist/esm/constants.js","../../node_modules/display-element-css/dist/esm/utils/formatting/addNewLines.js","../../node_modules/display-element-css/dist/esm/utils/processing/stylesManagement.js","../../node_modules/display-element-css/dist/esm/utils/processing/findCss.js","../../node_modules/display-element-css/dist/esm/utils/processing/processElement.js","../../node_modules/display-element-css/dist/esm/utils/processing/getCss.js","../../node_modules/display-element-css/dist/esm/withCss.js","../../node_modules/display-element-css/dist/esm/preset/preview.js"],"sourcesContent":["export var ADDON_ID = 'storybook/my-addon';\nexport var TOOL_ID = \"\".concat(ADDON_ID, \"/tool\");\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var EVENTS = {\n  RESULT: \"\".concat(ADDON_ID, \"/result\"),\n  CLEAR: \"\".concat(ADDON_ID, \"/clear\")\n};","export var addNewLines = function addNewLines(text) {\n  return text.replaceAll(';', ';\\n').replaceAll('{', '{\\n');\n};","import { addNewLines } from '../formatting/addNewLines'; // Global space to track found styles\n\nexport var styles = {}; // Add style to list\n\nexport function addStyle(id, style) {\n  // Ignore duplicate styles\n  if (styles[id]) return null; // Save formatted CSS\n\n  styles[id] = addNewLines(style);\n} // Clear all styles\n\nexport function clearStyles() {\n  styles = {};\n} // Convert styles object to an array of strings\n\nexport function stylesToArray() {\n  return Object.keys(styles).sort().map(function (key) {\n    return styles[key];\n  });\n} // Debug utility to see what styles have been tracked\n\nexport function logStyles() {\n  console.log('Styles: ', styles);\n}","import { addStyle } from './stylesManagement'; // Ignore storybook styles\n\nvar storybookClassesPattern = /^\\.sb/; // Try to restrict matched classes to only the relevant ones\n\nvar trailingChars = '(\\\\s|,|\\\\.|{|\\\\n|$)';\nexport function findCss(selector) {\n  var regex = new RegExp(\"^\".concat(selector).concat(trailingChars), 'gm');\n  var styleSheets = document.styleSheets;\n\n  for (var index in styleSheets) {\n    var cssRules = styleSheets[index].cssRules;\n\n    for (var rulesIndex in cssRules) {\n      var cssRule = cssRules[rulesIndex];\n      var selectorText = cssRule.selectorText;\n      if (!selectorText) continue; // Ignore storybook classes\n\n      if (selectorText !== null && selectorText !== void 0 && selectorText.match(storybookClassesPattern)) continue; // Ignore unmatched selectors\n\n      if (!(selectorText !== null && selectorText !== void 0 && selectorText.match(regex))) continue; // We have a match! Save it.\n\n      addStyle(selectorText, cssRule.cssText);\n    }\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { findCss } from './findCss';\nexport function processElement(element) {\n  // processByElementType(element);\n  processByElementId(element);\n  processByClassname(element);\n} // Styles returned here don't always feel relevant, so disabling this phase for now\n// Ex. p, div, a\n\nfunction processByElementType(element) {\n  var elementType = element.localName;\n  if (!elementType) return null;\n  findCss(elementType);\n} // Find matches based on the element `id`\n// Ex. #FirstIcon, #header\n\n\nfunction processByElementId(element) {\n  if (!element.id) return null;\n  var elementId = '#'.concat(element.id);\n  findCss(elementId);\n} // Find matches based on the `className`s assigned to the element\n// Ex. .cf-icon-svg, .m-hero_heading\n\n\nfunction processByClassname(element) {\n  var elementClassNames = [];\n  var elementClassNamesString = element.className; // SVGs have className stored differently \n\n  switch (_typeof(elementClassNamesString)) {\n    case 'object':\n      elementClassNamesString = elementClassNamesString.baseVal;\n      break;\n\n    default:\n  }\n\n  if (elementClassNamesString && typeof elementClassNamesString === 'string') {\n    elementClassNames = elementClassNamesString.split(' ');\n    elementClassNames.forEach(function (className) {\n      if (className.length > 1) findCss('\\\\.'.concat(className));\n    });\n  }\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { addons } from '@storybook/addons';\nimport { EVENTS } from '../../constants';\nimport { clearStyles, stylesToArray, logStyles } from './stylesManagement';\nimport { processElement } from './processElement';\nexport var getCss = function getCss(e) {\n  var channel = addons.getChannel();\n  e.preventDefault();\n  e.stopPropagation();\n  clearStyles();\n  var element = e.target; // Process the clicked element.\n  // We will display these styles first in the UI.\n\n  processElement(element);\n  var elementStyles = stylesToArray();\n  clearStyles(); // Process parent nodes\n\n  var parent = element.parentNode;\n  var MAX = 10;\n  var current = 0;\n\n  while (parent && parent.id !== 'storybook-root' && current < MAX) {\n    processElement(parent);\n    logStyles();\n    parent = parent.parentNode;\n    current += 1;\n  } // Prep found styles for display\n\n\n  var styleList = [].concat(_toConsumableArray(elementStyles), _toConsumableArray(stylesToArray())); // Done\n\n  channel.emit(EVENTS.RESULT, {\n    styles: styleList\n  });\n};","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useGlobals } from '@storybook/addons';\nimport { addons } from '@storybook/addons';\nimport { useEffect } from '@storybook/addons';\nimport { getCss } from './utils/processing/getCss';\nimport { EVENTS } from './constants';\nexport var withCss = function withCss(StoryFn, context) {\n  var _useGlobals = useGlobals(),\n      _useGlobals2 = _slicedToArray(_useGlobals, 1),\n      myAddon = _useGlobals2[0].myAddon;\n\n  useEffect(function () {\n    var channel = addons.getChannel();\n    channel.emit(EVENTS.CLEAR);\n\n    if (myAddon) {\n      // Focus on <html> element instead of #root\n      var eventType = 'click';\n      var targetElement = window.document.querySelector('html');\n\n      if (targetElement) {\n        targetElement.addEventListener(eventType, getCss);\n        return function () {\n          return targetElement.removeEventListener(eventType, getCss);\n        };\n      }\n    }\n  }, [context.id, myAddon]);\n  return StoryFn();\n};","/**\n * A decorator is a way to wrap a story in extra “rendering” functionality. Many addons define decorators\n * in order to augment stories:\n * - with extra rendering\n * - gather details about how a story is rendered\n *\n * When writing stories, decorators are typically used to wrap stories with extra markup or context mocking.\n *\n * https://storybook.js.org/docs/react/writing-stories/decorators#gatsby-focus-wrapper\n */\nimport { withCss } from '../withCss';\nexport var decorators = [withCss];\nexport var globalTypes = {\n  myAddon: false,\n  theme: {\n    name: 'Theme',\n    description: 'Global theme for components',\n    toolbar: {\n      icon: 'circlehollow',\n      title: 'Theme',\n      items: [{\n        value: 'light',\n        icon: 'circlehollow',\n        title: 'light'\n      }, {\n        value: 'dark',\n        icon: 'circle',\n        title: 'dark'\n      }, {\n        value: 'side-by-side',\n        icon: 'sidebar',\n        title: 'side by side'\n      }, {\n        value: 'stacked',\n        icon: 'bottombar',\n        title: 'stacked'\n      }]\n    }\n  }\n};"],"names":["ADDON_ID","EVENTS","addNewLines","text","styles","addStyle","id","style","clearStyles","stylesToArray","key","logStyles","storybookClassesPattern","trailingChars","findCss","selector","regex","styleSheets","index","cssRules","rulesIndex","cssRule","selectorText","_typeof","obj","processElement","element","processByElementId","processByClassname","elementId","elementClassNames","elementClassNamesString","className","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","iter","len","i","arr2","addons","getCss","e","channel","elementStyles","parent","MAX","current","styleList","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_i","_arr","_n","_d","_s","_e","err","useGlobals","useEffect","withCss","StoryFn","context","_useGlobals","_useGlobals2","myAddon","eventType","targetElement","decorators","globalTypes"],"mappings":"AAAO,IAAIA,EAAW,qBAGXC,EAAS,CAClB,OAAQ,GAAG,OAAOD,EAAU,SAAS,EACrC,MAAO,GAAG,OAAOA,EAAU,QAAQ,CACrC,ECNWE,EAAc,SAAqBC,EAAM,CAClD,OAAOA,EAAK,WAAW,IAAK;AAAA,CAAK,EAAE,WAAW,IAAK;AAAA,CAAK,CAC1D,ECAWC,EAAS,CAAA,EAEb,SAASC,EAASC,EAAIC,EAAO,CAElC,GAAIH,EAAOE,GAAK,OAAO,KAEvBF,EAAOE,GAAMJ,EAAYK,CAAK,CAChC,CAEO,SAASC,GAAc,CAC5BJ,EAAS,CAAA,CACX,CAEO,SAASK,GAAgB,CAC9B,OAAO,OAAO,KAAKL,CAAM,EAAE,OAAO,IAAI,SAAUM,EAAK,CACnD,OAAON,EAAOM,EAClB,CAAG,CACH,CAEO,SAASC,GAAY,CAC1B,QAAQ,IAAI,WAAYP,CAAM,CAChC,CCrBA,IAAIQ,EAA0B,QAE1BC,EAAgB,sBACb,SAASC,EAAQC,EAAU,CAChC,IAAIC,EAAQ,IAAI,OAAO,IAAI,OAAOD,CAAQ,EAAE,OAAOF,CAAa,EAAG,IAAI,EACnEI,EAAc,SAAS,YAE3B,QAASC,KAASD,EAAa,CAC7B,IAAIE,EAAWF,EAAYC,GAAO,SAElC,QAASE,KAAcD,EAAU,CAC/B,IAAIE,EAAUF,EAASC,GACnBE,EAAeD,EAAQ,aACvB,CAACC,GAEDA,GAAiB,MAAmCA,EAAa,MAAMV,CAAuB,GAE9F,EAAEU,GAAiB,MAAmCA,EAAa,MAAMN,CAAK,IAElFX,EAASiB,EAAcD,EAAQ,OAAO,CACvC,CACF,CACH,CCxBA,SAASE,EAAQC,EAAK,CAA6B,OAAI,OAAO,QAAW,YAAc,OAAO,OAAO,UAAa,SAAYD,EAAU,SAAiBC,EAAK,CAAE,OAAO,OAAOA,CAAI,EAAaD,EAAU,SAAiBC,EAAK,CAAE,OAAOA,GAAO,OAAO,QAAW,YAAcA,EAAI,cAAgB,QAAUA,IAAQ,OAAO,UAAY,SAAW,OAAOA,CAAI,EAAaD,EAAQC,CAAG,CAAI,CAGnX,SAASC,EAAeC,EAAS,CAEtCC,EAAmBD,CAAO,EAC1BE,EAAmBF,CAAO,CAC5B,CAWA,SAASC,EAAmBD,EAAS,CACnC,GAAI,CAACA,EAAQ,GAAI,OAAO,KACxB,IAAIG,EAAY,IAAI,OAAOH,EAAQ,EAAE,EACrCZ,EAAQe,CAAS,CACnB,CAIA,SAASD,EAAmBF,EAAS,CACnC,IAAII,EAAoB,CAAA,EACpBC,EAA0BL,EAAQ,UAEtC,OAAQH,EAAQQ,CAAuB,EAAC,CACtC,IAAK,SACHA,EAA0BA,EAAwB,QAClD,KAGH,CAEGA,GAA2B,OAAOA,GAA4B,WAChED,EAAoBC,EAAwB,MAAM,GAAG,EACrDD,EAAkB,QAAQ,SAAUE,EAAW,CACzCA,EAAU,OAAS,GAAGlB,EAAQ,MAAM,OAAOkB,CAAS,CAAC,CAC/D,CAAK,EAEL,CC5CA,SAASC,EAAmBC,EAAK,CAAE,OAAOC,EAAmBD,CAAG,GAAKE,EAAiBF,CAAG,GAAKG,EAA4BH,CAAG,GAAKI,EAAoB,CAAG,CAEzJ,SAASA,GAAqB,CAAE,MAAM,IAAI,UAAU;AAAA,mFAAsI,CAAI,CAE9L,SAASD,EAA4BE,EAAGC,EAAQ,CAAE,GAAI,EAACD,EAAW,IAAI,OAAOA,GAAM,SAAU,OAAOE,EAAkBF,EAAGC,CAAM,EAAG,IAAIE,EAAI,OAAO,UAAU,SAAS,KAAKH,CAAC,EAAE,MAAM,EAAG,EAAE,EAAgE,GAAzDG,IAAM,UAAYH,EAAE,cAAaG,EAAIH,EAAE,YAAY,MAAUG,IAAM,OAASA,IAAM,MAAO,OAAO,MAAM,KAAKH,CAAC,EAAG,GAAIG,IAAM,aAAe,2CAA2C,KAAKA,CAAC,EAAG,OAAOD,EAAkBF,EAAGC,CAAM,EAAI,CAEha,SAASJ,EAAiBO,EAAM,CAAE,GAAI,OAAO,OAAW,KAAeA,EAAK,OAAO,WAAa,MAAQA,EAAK,eAAiB,KAAM,OAAO,MAAM,KAAKA,CAAI,CAAI,CAE9J,SAASR,EAAmBD,EAAK,CAAE,GAAI,MAAM,QAAQA,CAAG,EAAG,OAAOO,EAAkBP,CAAG,CAAI,CAE3F,SAASO,EAAkBP,EAAKU,EAAK,EAAMA,GAAO,MAAQA,EAAMV,EAAI,UAAQU,EAAMV,EAAI,QAAQ,QAASW,EAAI,EAAGC,EAAO,IAAI,MAAMF,CAAG,EAAGC,EAAID,EAAKC,IAAOC,EAAKD,GAAKX,EAAIW,GAAM,OAAOC,CAAO,CAEvL,KAAA,CAAAC,OAAAA,CAAA,EAAA,4BAIO,IAAIC,EAAS,SAAgBC,EAAG,CACrC,IAAIC,EAAUH,EAAO,aACrBE,EAAE,eAAc,EAChBA,EAAE,gBAAe,EACjBzC,IACA,IAAIkB,EAAUuB,EAAE,OAGhBxB,EAAeC,CAAO,EACtB,IAAIyB,EAAgB1C,IACpBD,IAMA,QAJI4C,EAAS1B,EAAQ,WACjB2B,EAAM,GACNC,EAAU,EAEPF,GAAUA,EAAO,KAAO,kBAAoBE,EAAUD,GAC3D5B,EAAe2B,CAAM,EACrBzC,IACAyC,EAASA,EAAO,WAChBE,GAAW,EAIb,IAAIC,EAAY,GAAG,OAAOtB,EAAmBkB,CAAa,EAAGlB,EAAmBxB,EAAe,CAAA,CAAC,EAEhGyC,EAAQ,KAAKjD,EAAO,OAAQ,CAC1B,OAAQsD,CACZ,CAAG,CACH,EC7CA,SAASC,EAAetB,EAAKW,EAAG,CAAE,OAAOY,EAAgBvB,CAAG,GAAKwB,EAAsBxB,EAAKW,CAAC,GAAKR,EAA4BH,EAAKW,CAAC,GAAKc,EAAgB,CAAK,CAE9J,SAASA,GAAmB,CAAE,MAAM,IAAI,UAAU;AAAA,mFAA2I,CAAI,CAEjM,SAAStB,EAA4BE,EAAGC,EAAQ,CAAE,GAAI,EAACD,EAAW,IAAI,OAAOA,GAAM,SAAU,OAAOE,EAAkBF,EAAGC,CAAM,EAAG,IAAIE,EAAI,OAAO,UAAU,SAAS,KAAKH,CAAC,EAAE,MAAM,EAAG,EAAE,EAAgE,GAAzDG,IAAM,UAAYH,EAAE,cAAaG,EAAIH,EAAE,YAAY,MAAUG,IAAM,OAASA,IAAM,MAAO,OAAO,MAAM,KAAKH,CAAC,EAAG,GAAIG,IAAM,aAAe,2CAA2C,KAAKA,CAAC,EAAG,OAAOD,EAAkBF,EAAGC,CAAM,EAAI,CAEha,SAASC,EAAkBP,EAAKU,EAAK,EAAMA,GAAO,MAAQA,EAAMV,EAAI,UAAQU,EAAMV,EAAI,QAAQ,QAASW,EAAI,EAAGC,EAAO,IAAI,MAAMF,CAAG,EAAGC,EAAID,EAAKC,IAAOC,EAAKD,GAAKX,EAAIW,GAAM,OAAOC,CAAO,CAEvL,SAASY,EAAsBxB,EAAKW,EAAG,CAAE,IAAIe,EAAK1B,IAAQ,OAAO,OAAW,KAAeA,EAAI,OAAO,WAAaA,EAAI,eAAgB,GAAI0B,GAAM,KAAc,KAAIC,EAAO,CAAA,EAAQC,EAAK,GAAUC,EAAK,GAAWC,EAAIC,EAAI,GAAI,CAAE,IAAKL,EAAKA,EAAG,KAAK1B,CAAG,EAAG,EAAE4B,GAAME,EAAKJ,EAAG,KAAM,GAAE,QAAoBC,EAAK,KAAKG,EAAG,KAAK,EAAO,EAAAnB,GAAKgB,EAAK,SAAWhB,IAA3DiB,EAAK,GAA6B,CAAsC,OAAQI,EAAP,CAAcH,EAAK,GAAME,EAAKC,CAAI,QAAW,CAAE,GAAI,CAAM,CAACJ,GAAMF,EAAG,QAAa,MAAMA,EAAG,OAAW,SAAY,CAAE,GAAIG,EAAI,MAAME,CAAK,CAAA,CAAG,OAAOJ,EAAO,CAErf,SAASJ,EAAgBvB,EAAK,CAAE,GAAI,MAAM,QAAQA,CAAG,EAAG,OAAOA,CAAM,CAErE,KAAA,CAAA,WAAAiC,CAAA,EAAA,4BACA,CAAA,OAAApB,CAAA,EAAA,4BACA,CAAA,UAAAqB,CAAA,EAAA,4BAGO,IAAIC,EAAU,SAAiBC,EAASC,EAAS,CACtD,IAAIC,EAAcL,EAAY,EAC1BM,EAAejB,EAAegB,EAAa,CAAC,EAC5CE,EAAUD,EAAa,GAAG,QAE9B,OAAAL,EAAU,UAAY,CACpB,IAAIlB,EAAUH,EAAO,aAGrB,GAFAG,EAAQ,KAAKjD,EAAO,KAAK,EAErByE,EAAS,CAEX,IAAIC,EAAY,QACZC,EAAgB,OAAO,SAAS,cAAc,MAAM,EAExD,GAAIA,EACF,OAAAA,EAAc,iBAAiBD,EAAW3B,CAAM,EACzC,UAAY,CACjB,OAAO4B,EAAc,oBAAoBD,EAAW3B,CAAM,CACpE,CAEK,CACF,EAAE,CAACuB,EAAQ,GAAIG,CAAO,CAAC,EACjBJ,EAAO,CAChB,EC7BWO,EAAa,CAACR,CAAO,EACrBS,EAAc,CACvB,QAAS,GACT,MAAO,CACL,KAAM,QACN,YAAa,8BACb,QAAS,CACP,KAAM,eACN,MAAO,QACP,MAAO,CAAC,CACN,MAAO,QACP,KAAM,eACN,MAAO,OACf,EAAS,CACD,MAAO,OACP,KAAM,SACN,MAAO,MACf,EAAS,CACD,MAAO,eACP,KAAM,UACN,MAAO,cACf,EAAS,CACD,MAAO,UACP,KAAM,YACN,MAAO,SACf,CAAO,CACF,CACF,CACH"}