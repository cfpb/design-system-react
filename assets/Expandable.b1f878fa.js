import{r as $,a as _,j as g}from"./jsx-runtime.556016cd.js";import{I as k}from"./Icon.bf4b375e.js";const v="data-js-hook",U="state_";function S(){const t={};function e(n,a){return{}.hasOwnProperty.call(t,n)?t[n].push(a):t[n]=[a],this}function i(n,a){if(!{}.hasOwnProperty.call(t,n))return this;const r=t[n].indexOf(a);return r!==-1&&t[n].splice(r,1),this}function s(n,a){if(!{}.hasOwnProperty.call(t,n))return this;a=a||{};const r=t[n];for(let o=0,l=r.length;o<l;o++)r[o].call(this,a);return this}return this.addEventListener=e,this.removeEventListener=i,this.dispatchEvent=s,this.getRegisteredEvents=()=>t,this}function N(t,e){if(!t)return!1;let i=t.getAttribute(v);return i?(i=i.split(" "),i.indexOf(e)>-1):!1}function Y(t,e){if(N(t,e))return e;if(e.indexOf(" ")!==-1){const s=v+" values cannot contain spaces!";throw new Error(s)}const i=t.getAttribute(v);return i!==null&&(e=i+" "+e),t.setAttribute(v,e),e}const A=U+"atomic_init";function J(t){return N(t,A)?!1:(Y(t,A),!0)}function K(t,e,i){const n=(i||document).querySelectorAll(t),a=[];let r,o;for(let l=0,c=n.length;l<c;l++)o=n[l],N(o,A)===!1&&(r=new e(o),r.init(),a.push(r));return a}const W=Object.prototype.toString;function H(t){return W.call(t)==="[object Function]"}function d(t,e,i){const s=e;let n=t;if(!i)throw new Error("Child transition argument must be defined!");const a=i;let r,o,l,c=!1,E=!1,u=!1;if(typeof s.CSS_PROPERTY>"u"||typeof s.BASE_CLASS>"u")throw new Error("Transitions require CSS_PROPERTY and BASE_CLASS to be passed into BaseTransition.");function b(){o&&c?(n.addEventListener(o,l),a.dispatchEvent(d.BEGIN_EVENT,{target:a,type:d.BEGIN_EVENT}),n.classList.add(d.ANIMATING_CLASS),E=!0):(a.dispatchEvent(d.BEGIN_EVENT,{target:a,type:d.BEGIN_EVENT}),l())}function w(){n.removeEventListener(o,l)}function j(h){return h&&h.propertyName!==s.CSS_PROPERTY?!1:(w(),n.classList.remove(d.ANIMATING_CLASS),a.dispatchEvent(d.END_EVENT,{target:a,type:d.END_EVENT}),E=!1,!0)}function T(){let h;for(h in s)({}).hasOwnProperty.call(s,h)&&s[h]!==s.BASE_CLASS&&n.classList.contains(s[h])&&n.classList.remove(s[h])}function C(){!E||(n.style.webkitTransitionDuration="0",n.style.mozTransitionDuration="0",n.style.oTransitionDuration="0",n.style.transitionDuration="0",n.removeEventListener(o,l),l(),n.style.webkitTransitionDuration="",n.style.mozTransitionDuration="",n.style.oTransitionDuration="",n.style.transitionDuration="")}function P(){C(),T(),n.classList.remove(s.BASE_CLASS)}function D(){n.classList.remove(d.NO_ANIMATION_CLASS),c=!0}function V(){n.classList.add(d.NO_ANIMATION_CLASS),c=!1}function F(h){if(!h){const X="Element does not have TransitionEnd event. It may be null!";throw new Error(X)}let M;const x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};let L;for(L in x)if({}.hasOwnProperty.call(x,L)&&typeof h.style[L]<"u"){M=x[L];break}return M}function I(h){P(),D(),n=h,n.classList.add(s.BASE_CLASS),o=F(n)}function R(h){if(c=!n.classList.contains(d.NO_ANIMATION_CLASS),l=j.bind(this),I(n),!h)throw new Error("Transition needs to be passed an initial CSS class on initialization!");return n.classList.add(h),this}function q(h){return u||(T(),u=!0),n.classList.contains(h)?!1:(w(),n.classList.remove(r),r=h,b(),n.classList.add(r),!0)}return this.animateOff=V,this.animateOn=D,this.applyClass=q,this.halt=C,this.init=R,this.isAnimated=()=>c,this.remove=P,this.setElement=I,this}d.BEGIN_EVENT="transitionbegin";d.END_EVENT="transitionend";d.NO_ANIMATION_CLASS="u-no-animation";d.ANIMATING_CLASS="u-is-animating";var O={exports:{}},Q=p;function p(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=p.prototype.handle.bind(this),this._removedListeners=[]}p.prototype.root=function(t){var e=this.listenerMap,i;if(this.rootElement){for(i in e[1])e[1].hasOwnProperty(i)&&this.rootElement.removeEventListener(i,this.handle,!0);for(i in e[0])e[0].hasOwnProperty(i)&&this.rootElement.removeEventListener(i,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(i in e[1])e[1].hasOwnProperty(i)&&this.rootElement.addEventListener(i,this.handle,!0);for(i in e[0])e[0].hasOwnProperty(i)&&this.rootElement.addEventListener(i,this.handle,!1);return this};p.prototype.captureForType=function(t){return["blur","error","focus","load","resize","scroll"].indexOf(t)!==-1};p.prototype.on=function(t,e,i,s){var n,a,r,o;if(!t)throw new TypeError("Invalid event type: "+t);if(typeof e=="function"&&(s=i,i=e,e=null),s===void 0&&(s=this.captureForType(t)),typeof i!="function")throw new TypeError("Handler must be a type of Function");return n=this.rootElement,a=this.listenerMap[s?1:0],a[t]||(n&&n.addEventListener(t,this.handle,s),a[t]=[]),e?/^[a-z]+$/i.test(e)?(o=e,r=tt):/^#[a-z0-9\-_]+$/i.test(e)?(o=e.slice(1),r=it):(o=e,r=Z):(o=null,r=et.bind(this)),a[t].push({selector:e,handler:i,matcher:r,matcherParam:o}),this};p.prototype.off=function(t,e,i,s){var n,a,r,o,l;if(typeof e=="function"&&(s=i,i=e,e=null),s===void 0)return this.off(t,e,i,!0),this.off(t,e,i,!1),this;if(r=this.listenerMap[s?1:0],!t){for(l in r)r.hasOwnProperty(l)&&this.off(l,e,i);return this}if(o=r[t],!o||!o.length)return this;for(n=o.length-1;n>=0;n--)a=o[n],(!e||e===a.selector)&&(!i||i===a.handler)&&(this._removedListeners.push(a),o.splice(n,1));return o.length||(delete r[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,s)),this};p.prototype.handle=function(t){var e,i,s=t.type,n,a,r,o,l=[],c,E="ftLabsDelegateIgnore";if(t[E]!==!0){switch(c=t.target,c.nodeType===3&&(c=c.parentNode),c.correspondingUseElement&&(c=c.correspondingUseElement),n=this.rootElement,a=t.eventPhase||(t.target!==t.currentTarget?3:2),a){case 1:l=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(l=l.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(l=l.concat(this.listenerMap[1][s]));break;case 3:l=this.listenerMap[0][s];break}var u=[];for(i=l.length;c&&i;){for(e=0;e<i&&(r=l[e],!!r);e++)c.tagName&&["button","input","select","textarea"].indexOf(c.tagName.toLowerCase())>-1&&c.hasAttribute("disabled")?u=[]:r.matcher.call(c,r.matcherParam,c)&&u.push([t,c,r]);if(c===n||(i=l.length,c=c.parentElement||c.parentNode,c instanceof HTMLDocument))break}var b;for(e=0;e<u.length;e++)if(!(this._removedListeners.indexOf(u[e][2])>-1)&&(o=this.fire.apply(this,u[e]),o===!1)){u[e][0][E]=!0,u[e][0].preventDefault(),b=!1;break}return b}};p.prototype.fire=function(t,e,i){return i.handler.call(e,t,e)};var Z=function(t){if(!!t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function tt(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function et(t,e){return this.rootElement===window?e===document||e===document.documentElement||e===window:this.rootElement===e}function it(t,e){return t===e.id}p.prototype.destroy=function(){this.off(),this.root()};/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var G=Q;O.exports=function(t){return new G(t)};O.exports.Delegate=G;const nt="div";function m(t,e){this.element=t,this.initializers=[],this.uId=this.uniqueId("ac"),Object.assign(this,e),this.processModifiers(),this.ensureElement(),this.setCachedElements(),this.initializers.push(this.initialize)}Object.assign(m.prototype,new S,{init:function(){return this.initializers.forEach(function(t){H(t)&&t.apply(this,arguments)},this),this.dispatchEvent("component:initialized"),this},processModifiers:function(){!this.modifiers||this.modifiers.forEach(function(t){const e=t.ui.base.substring(1);this.element.classList.contains(e)&&(t.initialize&&this.initializers.push(t.initialize),Object.assign(this,t))},this)},render:function(){return this},ensureElement:function(){if(this.element)this.setElement(this.element);else{const t={...this.attributes};t.id=this.id||this.u_id,this.className&&(t.class=this.className),this.setElement(document.createElement(nt)),this.setElementAttributes(t)}J(this.element)},setElement:function(t){return this.element&&this.undelegateEvents(),this.element=t,this.delegateEvents(),this},setCachedElements:function(){const t={...this.ui};let e,i;for(e in t)({}).hasOwnProperty.call(t,e)&&(i=this.element.querySelectorAll(t[e]),i.length===1?t[e]=i[0]:i.length>1?t[e]=i:t[e]=null);return this.ui=t,t},destroy:function(){return this.element&&(this.element.parentNode.removeChild(this.element),this.element.view&&delete this.element.view,delete this.element),this.undelegateEvents(),this.dispatchEvent("component:destroyed"),!0},setElementAttributes:function(t){let e;for(e in t)({}).hasOwnProperty.call(t,e)&&this.element.setAttribute(e,t[e])},delegateEvents:function(t){const e=/^(\S+)\s*(.*)$/;let i,s,n;if(t=t||(t=this.events),!t)return this;this.undelegateEvents(),this._delegate=new O.exports(this.element);for(i in t)({}).hasOwnProperty.call(t,i)&&(s=t[i],H(this[s])&&(s=this[s]),s&&(n=i.match(e),this.delegate(n[1],n[2],s.bind(this))));return this.dispatchEvent("component:bound"),this},delegate:function(t,e,i){return this._delegate.on(t,e,i),this},undelegateEvents:function(){return this._delegate&&this._delegate.destroy(),this.element.removeAttribute("data-js-hook"),this},uniqueId:function(t){return t+"_"+Math.random().toString(36).substr(2,9)}});function st(t){function e(){return this._super=m.prototype,m.apply(this,arguments)}return e.prototype=Object.create(m.prototype),Object.assign(e.prototype,t),Object.assign(e,m),{}.hasOwnProperty.call(t,"ui")&&{}.hasOwnProperty.call(t.ui,"base")&&(e.selector=t.ui.base),e.constants={},e}function at(t){return K(this.selector,this,t)}m.init=at;m.extend=st;const f={CSS_PROPERTY:"max-height",BASE_CLASS:"o-expandable_content__transition",EXPANDED:"o-expandable_content__expanded",COLLAPSED:"o-expandable_content__collapsed",OPEN_DEFAULT:"o-expandable_content__onload-open"};function y(t){const e=new d(t,f,this);let i;function s(){t.classList.contains(f.EXPANDED)?(this.dispatchEvent("expandend",{target:this}),t.scrollHeight>i&&(t.style.maxHeight=t.scrollHeight+"px")):t.classList.contains(f.COLLAPSED)&&this.dispatchEvent("collapseend",{target:this})}function n(){const c=t.classList.contains(f.OPEN_DEFAULT),E=c?f.EXPANDED:f.COLLAPSED;return e.init(E),this.addEventListener(d.END_EVENT,s.bind(this)),c?this.expand():this.collapse(),this}function a(){return t.classList.contains(f.COLLAPSED)?this.expand():this.collapse(),this}function r(){return this.dispatchEvent("collapsebegin",{target:this}),i=t.scrollHeight,t.style.maxHeight="0",e.applyClass(f.COLLAPSED),this}function o(){return this.dispatchEvent("expandbegin",{target:this}),(!i||t.scrollHeight>i)&&(i=t.scrollHeight),t.style.maxHeight=i+"px",e.applyClass(f.EXPANDED),this}const l=new S;return this.addEventListener=l.addEventListener,this.dispatchEvent=l.dispatchEvent,this.removeEventListener=l.removeEventListener,this.animateOff=e.animateOff,this.animateOn=e.animateOn,this.halt=e.halt,this.isAnimated=e.isAnimated,this.setElement=e.setElement,this.remove=e.remove,this.init=n,this.toggleExpandable=a,this.collapse=r,this.expand=o,this}y.CLASSES=f;const B=new S;function rt(){this.ui.content.classList.remove("u-hidden")}function ot(){this.ui.content.classList.add("u-hidden")}function lt(){this.activeAccordion&&(this.transition.toggleExpandable(),this.toggleTargetState(this.ui.target),this.activeAccordion=!1)}function ct(){const t=new y(this.ui.content);this.transition=t.init(),this.transition.addEventListener("expandbegin",rt.bind(this)),this.transition.addEventListener("collapseend",ot.bind(this)),this.ui.content.classList.contains(y.CLASSES.EXPANDED)?this.ui.target.classList.add(this.classes.targetExpanded):(this.ui.target.classList.add(this.classes.targetCollapsed),this.ui.content.classList.add("u-hidden"));const e=this.ui.target.closest("."+this.classes.group);this.isAccordionGroup=e!==null&&e.classList.contains(this.classes.groupAccordion),this.isAccordionGroup&&B.addEventListener("accordionActivated",lt.bind(this))}function ht(){this.transition.toggleExpandable(),this.toggleTargetState(this.ui.target),this.isAccordionGroup&&(this.activeAccordion?this.activeAccordion=!1:(B.dispatchEvent("accordionActivated",{target:this}),this.activeAccordion=!0))}function dt(t){t.classList.contains(this.classes.targetExpanded)?(this.ui.target.classList.add(this.classes.targetCollapsed),this.ui.target.classList.remove(this.classes.targetExpanded)):(this.ui.target.classList.add(this.classes.targetExpanded),this.ui.target.classList.remove(this.classes.targetCollapsed))}function ut(){return this.ui.label.textContent.trim()}const ft=m.extend({ui:{base:".o-expandable",target:".o-expandable_target",content:".o-expandable_content",header:".o-expandable_header",label:".o-expandable_label"},classes:{targetExpanded:"o-expandable_target__expanded",targetCollapsed:"o-expandable_target__collapsed",group:"o-expandable-group",groupAccordion:"o-expandable-group__accordion"},events:{"click .o-expandable_target":"expandableClickHandler"},transition:null,isAccordionGroup:!1,activeAccordion:!1,initialize:ct,expandableClickHandler:ht,toggleTargetState:dt,getLabelText:ut}),z=({header:t,children:e,inAccordion:i=!1,openOnLoad:s=!1})=>($.exports.useEffect(()=>{i||ft.init()},[i]),_("div",{className:"o-expandable o-expandable__padded o-expandable__background o-expandable__border",children:[_("button",{type:"button",className:"o-expandable_header o-expandable_target",title:"Expand content",children:[g("h3",{className:"h4 o-expandable_label",children:t}),_("span",{className:"o-expandable_link",children:[_("span",{className:"o-expandable_cue o-expandable_cue-open",children:[g("span",{className:"u-visually-hidden-on-mobile",children:"Show"}),g(k,{name:"plus-round",alt:"plus-round"})]}),_("span",{className:"o-expandable_cue o-expandable_cue-close",children:[g("span",{className:"u-visually-hidden-on-mobile",children:"Hide"}),g(k,{name:"minus-round",alt:"minus-round"})]})]})]}),g("div",{className:`o-expandable_content ${s?"o-expandable_content__onload-open":""}`,children:e})]}));try{z.displayName="Expandable",z.__docgenInfo={description:"",displayName:"Expandable",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},inAccordion:{defaultValue:{value:"false"},description:"",name:"inAccordion",required:!1,type:{name:"boolean"}},openOnLoad:{defaultValue:{value:"false"},description:"",name:"openOnLoad",required:!1,type:{name:"boolean"}}}}}catch{}export{z as E,ft as a};
//# sourceMappingURL=Expandable.b1f878fa.js.map
