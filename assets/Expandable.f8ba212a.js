var U=Object.defineProperty;var a=(t,e)=>U(t,"name",{value:e,configurable:!0});import{r as Y,b,j as _}from"./jsx-runtime.3a1e2061.js";import{I as z}from"./Icon.7052b3a7.js";const x="data-js-hook",J="state_";function O(){const t={};function e(n,r){return{}.hasOwnProperty.call(t,n)?t[n].push(r):t[n]=[r],this}a(e,"addEventListener");function i(n,r){if(!{}.hasOwnProperty.call(t,n))return this;const o=t[n].indexOf(r);return o!==-1&&t[n].splice(o,1),this}a(i,"removeEventListener");function s(n,r){if(!{}.hasOwnProperty.call(t,n))return this;r=r||{};const o=t[n];for(let l=0,c=o.length;l<c;l++)o[l].call(this,r);return this}return a(s,"dispatchEvent"),this.addEventListener=e,this.removeEventListener=i,this.dispatchEvent=s,this.getRegisteredEvents=()=>t,this}a(O,"EventObserver");function w(t,e){if(!t)return!1;let i=t.getAttribute(x);return i?(i=i.split(" "),i.indexOf(e)>-1):!1}a(w,"contains");function K(t,e){if(w(t,e))return e;if(e.indexOf(" ")!==-1){const s=x+" values cannot contain spaces!";throw new Error(s)}const i=t.getAttribute(x);return i!==null&&(e=i+" "+e),t.setAttribute(x,e),e}a(K,"add");const y=J+"atomic_init";function W(t){return w(t,y)?!1:(K(t,y),!0)}a(W,"setInitFlag");function Q(t,e,i){const n=(i||document).querySelectorAll(t),r=[];let o,l;for(let c=0,h=n.length;c<h;c++)l=n[c],w(l,y)===!1&&(o=new e(l),o.init(),r.push(o));return r}a(Q,"instantiateAll");const Z=Object.prototype.toString;function G(t){return Z.call(t)==="[object Function]"}a(G,"isFunction");function u(t,e,i){const s=e;let n=t;if(!i)throw new Error("Child transition argument must be defined!");const r=i;let o,l,c,h=!1,m=!1,f=!1;if(typeof s.CSS_PROPERTY>"u"||typeof s.BASE_CLASS>"u")throw new Error("Transitions require CSS_PROPERTY and BASE_CLASS to be passed into BaseTransition.");function L(){l&&h?(n.addEventListener(l,c),r.dispatchEvent(u.BEGIN_EVENT,{target:r,type:u.BEGIN_EVENT}),n.classList.add(u.ANIMATING_CLASS),m=!0):(r.dispatchEvent(u.BEGIN_EVENT,{target:r,type:u.BEGIN_EVENT}),c())}a(L,"_addEventListener");function C(){n.removeEventListener(l,c)}a(C,"_removeEventListener");function V(d){return d&&d.propertyName!==s.CSS_PROPERTY?!1:(C(),n.classList.remove(u.ANIMATING_CLASS),r.dispatchEvent(u.END_EVENT,{target:r,type:u.END_EVENT}),m=!1,!0)}a(V,"_transitionComplete");function P(){let d;for(d in s)({}).hasOwnProperty.call(s,d)&&s[d]!==s.BASE_CLASS&&n.classList.contains(s[d])&&n.classList.remove(s[d])}a(P,"_flush");function D(){!m||(n.style.webkitTransitionDuration="0",n.style.mozTransitionDuration="0",n.style.oTransitionDuration="0",n.style.transitionDuration="0",n.removeEventListener(l,c),c(),n.style.webkitTransitionDuration="",n.style.mozTransitionDuration="",n.style.oTransitionDuration="",n.style.transitionDuration="")}a(D,"halt");function I(){D(),P(),n.classList.remove(s.BASE_CLASS)}a(I,"remove");function M(){n.classList.remove(u.NO_ANIMATION_CLASS),h=!0}a(M,"animateOn");function F(){n.classList.add(u.NO_ANIMATION_CLASS),h=!1}a(F,"animateOff");function R(d){if(!d){const X="Element does not have TransitionEnd event. It may be null!";throw new Error(X)}let H;const A={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};let v;for(v in A)if({}.hasOwnProperty.call(A,v)&&typeof d.style[v]<"u"){H=A[v];break}return H}a(R,"_getTransitionEndEvent");function k(d){I(),M(),n=d,n.classList.add(s.BASE_CLASS),l=R(n)}a(k,"setElement");function q(d){if(h=!n.classList.contains(u.NO_ANIMATION_CLASS),c=V.bind(this),k(n),!d)throw new Error("Transition needs to be passed an initial CSS class on initialization!");return n.classList.add(d),this}a(q,"init");function $(d){return f||(P(),f=!0),n.classList.contains(d)?!1:(C(),n.classList.remove(o),o=d,L(),n.classList.add(o),!0)}return a($,"applyClass"),this.animateOff=F,this.animateOn=M,this.applyClass=$,this.halt=D,this.init=q,this.isAnimated=()=>h,this.remove=I,this.setElement=k,this}a(u,"BaseTransition");u.BEGIN_EVENT="transitionbegin";u.END_EVENT="transitionend";u.NO_ANIMATION_CLASS="u-no-animation";u.ANIMATING_CLASS="u-is-animating";var T={exports:{}},tt=E;function E(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=E.prototype.handle.bind(this),this._removedListeners=[]}a(E,"Delegate$1");E.prototype.root=function(t){var e=this.listenerMap,i;if(this.rootElement){for(i in e[1])e[1].hasOwnProperty(i)&&this.rootElement.removeEventListener(i,this.handle,!0);for(i in e[0])e[0].hasOwnProperty(i)&&this.rootElement.removeEventListener(i,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(i in e[1])e[1].hasOwnProperty(i)&&this.rootElement.addEventListener(i,this.handle,!0);for(i in e[0])e[0].hasOwnProperty(i)&&this.rootElement.addEventListener(i,this.handle,!1);return this};E.prototype.captureForType=function(t){return["blur","error","focus","load","resize","scroll"].indexOf(t)!==-1};E.prototype.on=function(t,e,i,s){var n,r,o,l;if(!t)throw new TypeError("Invalid event type: "+t);if(typeof e=="function"&&(s=i,i=e,e=null),s===void 0&&(s=this.captureForType(t)),typeof i!="function")throw new TypeError("Handler must be a type of Function");return n=this.rootElement,r=this.listenerMap[s?1:0],r[t]||(n&&n.addEventListener(t,this.handle,s),r[t]=[]),e?/^[a-z]+$/i.test(e)?(l=e,o=it):/^#[a-z0-9\-_]+$/i.test(e)?(l=e.slice(1),o=st):(l=e,o=et):(l=null,o=nt.bind(this)),r[t].push({selector:e,handler:i,matcher:o,matcherParam:l}),this};E.prototype.off=function(t,e,i,s){var n,r,o,l,c;if(typeof e=="function"&&(s=i,i=e,e=null),s===void 0)return this.off(t,e,i,!0),this.off(t,e,i,!1),this;if(o=this.listenerMap[s?1:0],!t){for(c in o)o.hasOwnProperty(c)&&this.off(c,e,i);return this}if(l=o[t],!l||!l.length)return this;for(n=l.length-1;n>=0;n--)r=l[n],(!e||e===r.selector)&&(!i||i===r.handler)&&(this._removedListeners.push(r),l.splice(n,1));return l.length||(delete o[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,s)),this};E.prototype.handle=function(t){var e,i,s=t.type,n,r,o,l,c=[],h,m="ftLabsDelegateIgnore";if(t[m]!==!0){switch(h=t.target,h.nodeType===3&&(h=h.parentNode),h.correspondingUseElement&&(h=h.correspondingUseElement),n=this.rootElement,r=t.eventPhase||(t.target!==t.currentTarget?3:2),r){case 1:c=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(c=c.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(c=c.concat(this.listenerMap[1][s]));break;case 3:c=this.listenerMap[0][s];break}var f=[];for(i=c.length;h&&i;){for(e=0;e<i&&(o=c[e],!!o);e++)h.tagName&&["button","input","select","textarea"].indexOf(h.tagName.toLowerCase())>-1&&h.hasAttribute("disabled")?f=[]:o.matcher.call(h,o.matcherParam,h)&&f.push([t,h,o]);if(h===n||(i=c.length,h=h.parentElement||h.parentNode,h instanceof HTMLDocument))break}var L;for(e=0;e<f.length;e++)if(!(this._removedListeners.indexOf(f[e][2])>-1)&&(l=this.fire.apply(this,f[e]),l===!1)){f[e][0][m]=!0,f[e][0].preventDefault(),L=!1;break}return L}};E.prototype.fire=function(t,e,i){return i.handler.call(e,t,e)};var et=function(t){if(!!t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function it(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}a(it,"matchesTag");function nt(t,e){return this.rootElement===window?e===document||e===document.documentElement||e===window:this.rootElement===e}a(nt,"matchesRoot");function st(t,e){return t===e.id}a(st,"matchesId");E.prototype.destroy=function(){this.off(),this.root()};/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var B=tt;T.exports=function(t){return new B(t)};T.exports.Delegate=B;const at="div";function g(t,e){this.element=t,this.initializers=[],this.uId=this.uniqueId("ac"),Object.assign(this,e),this.processModifiers(),this.ensureElement(),this.setCachedElements(),this.initializers.push(this.initialize)}a(g,"AtomicComponent");Object.assign(g.prototype,new O,{init:function(){return this.initializers.forEach(function(t){G(t)&&t.apply(this,arguments)},this),this.dispatchEvent("component:initialized"),this},processModifiers:function(){!this.modifiers||this.modifiers.forEach(function(t){const e=t.ui.base.substring(1);this.element.classList.contains(e)&&(t.initialize&&this.initializers.push(t.initialize),Object.assign(this,t))},this)},render:function(){return this},ensureElement:function(){if(this.element)this.setElement(this.element);else{const t={...this.attributes};t.id=this.id||this.u_id,this.className&&(t.class=this.className),this.setElement(document.createElement(at)),this.setElementAttributes(t)}W(this.element)},setElement:function(t){return this.element&&this.undelegateEvents(),this.element=t,this.delegateEvents(),this},setCachedElements:function(){const t={...this.ui};let e,i;for(e in t)({}).hasOwnProperty.call(t,e)&&(i=this.element.querySelectorAll(t[e]),i.length===1?t[e]=i[0]:i.length>1?t[e]=i:t[e]=null);return this.ui=t,t},destroy:function(){return this.element&&(this.element.parentNode.removeChild(this.element),this.element.view&&delete this.element.view,delete this.element),this.undelegateEvents(),this.dispatchEvent("component:destroyed"),!0},setElementAttributes:function(t){let e;for(e in t)({}).hasOwnProperty.call(t,e)&&this.element.setAttribute(e,t[e])},delegateEvents:function(t){const e=/^(\S+)\s*(.*)$/;let i,s,n;if(t=t||(t=this.events),!t)return this;this.undelegateEvents(),this._delegate=new T.exports(this.element);for(i in t)({}).hasOwnProperty.call(t,i)&&(s=t[i],G(this[s])&&(s=this[s]),s&&(n=i.match(e),this.delegate(n[1],n[2],s.bind(this))));return this.dispatchEvent("component:bound"),this},delegate:function(t,e,i){return this._delegate.on(t,e,i),this},undelegateEvents:function(){return this._delegate&&this._delegate.destroy(),this.element.removeAttribute("data-js-hook"),this},uniqueId:function(t){return t+"_"+Math.random().toString(36).substr(2,9)}});function rt(t){function e(){return this._super=g.prototype,g.apply(this,arguments)}return a(e,"child"),e.prototype=Object.create(g.prototype),Object.assign(e.prototype,t),Object.assign(e,g),{}.hasOwnProperty.call(t,"ui")&&{}.hasOwnProperty.call(t.ui,"base")&&(e.selector=t.ui.base),e.constants={},e}a(rt,"extend");function ot(t){return Q(this.selector,this,t)}a(ot,"init");g.init=ot;g.extend=rt;const p={CSS_PROPERTY:"max-height",BASE_CLASS:"o-expandable_content__transition",EXPANDED:"o-expandable_content__expanded",COLLAPSED:"o-expandable_content__collapsed",OPEN_DEFAULT:"o-expandable_content__onload-open"};function S(t){const e=new u(t,p,this);let i;function s(){t.classList.contains(p.EXPANDED)?(this.dispatchEvent("expandend",{target:this}),t.scrollHeight>i&&(t.style.maxHeight=t.scrollHeight+"px")):t.classList.contains(p.COLLAPSED)&&this.dispatchEvent("collapseend",{target:this})}a(s,"_transitionComplete");function n(){const h=t.classList.contains(p.OPEN_DEFAULT),m=h?p.EXPANDED:p.COLLAPSED;return e.init(m),this.addEventListener(u.END_EVENT,s.bind(this)),h?this.expand():this.collapse(),this}a(n,"init");function r(){return t.classList.contains(p.COLLAPSED)?this.expand():this.collapse(),this}a(r,"toggleExpandable");function o(){return this.dispatchEvent("collapsebegin",{target:this}),i=t.scrollHeight,t.style.maxHeight="0",e.applyClass(p.COLLAPSED),this}a(o,"collapse");function l(){return this.dispatchEvent("expandbegin",{target:this}),(!i||t.scrollHeight>i)&&(i=t.scrollHeight),t.style.maxHeight=i+"px",e.applyClass(p.EXPANDED),this}a(l,"expand");const c=new O;return this.addEventListener=c.addEventListener,this.dispatchEvent=c.dispatchEvent,this.removeEventListener=c.removeEventListener,this.animateOff=e.animateOff,this.animateOn=e.animateOn,this.halt=e.halt,this.isAnimated=e.isAnimated,this.setElement=e.setElement,this.remove=e.remove,this.init=n,this.toggleExpandable=r,this.collapse=o,this.expand=l,this}a(S,"ExpandableTransition");S.CLASSES=p;const j=new O;function lt(){this.ui.content.classList.remove("u-hidden")}a(lt,"expandBeginHandler");function ct(){this.ui.content.classList.add("u-hidden")}a(ct,"collapseEndHandler");function ht(){this.activeAccordion&&(this.transition.toggleExpandable(),this.toggleTargetState(this.ui.target),this.activeAccordion=!1)}a(ht,"_accordionActivatedHandler");function dt(){const t=new S(this.ui.content);this.transition=t.init(),this.transition.addEventListener("expandbegin",lt.bind(this)),this.transition.addEventListener("collapseend",ct.bind(this)),this.ui.content.classList.contains(S.CLASSES.EXPANDED)?this.ui.target.classList.add(this.classes.targetExpanded):(this.ui.target.classList.add(this.classes.targetCollapsed),this.ui.content.classList.add("u-hidden"));const e=this.ui.target.closest("."+this.classes.group);this.isAccordionGroup=e!==null&&e.classList.contains(this.classes.groupAccordion),this.isAccordionGroup&&j.addEventListener("accordionActivated",ht.bind(this))}a(dt,"initialize");function ut(){this.transition.toggleExpandable(),this.toggleTargetState(this.ui.target),this.isAccordionGroup&&(this.activeAccordion?this.activeAccordion=!1:(j.dispatchEvent("accordionActivated",{target:this}),this.activeAccordion=!0))}a(ut,"expandableClickHandler");function ft(t){t.classList.contains(this.classes.targetExpanded)?(this.ui.target.classList.add(this.classes.targetCollapsed),this.ui.target.classList.remove(this.classes.targetExpanded)):(this.ui.target.classList.add(this.classes.targetExpanded),this.ui.target.classList.remove(this.classes.targetCollapsed))}a(ft,"toggleTargetState");function pt(){return this.ui.label.textContent.trim()}a(pt,"getLabelText");const Et=g.extend({ui:{base:".o-expandable",target:".o-expandable_target",content:".o-expandable_content",header:".o-expandable_header",label:".o-expandable_label"},classes:{targetExpanded:"o-expandable_target__expanded",targetCollapsed:"o-expandable_target__collapsed",group:"o-expandable-group",groupAccordion:"o-expandable-group__accordion"},events:{"click .o-expandable_target":"expandableClickHandler"},transition:null,isAccordionGroup:!1,activeAccordion:!1,initialize:dt,expandableClickHandler:ut,toggleTargetState:ft,getLabelText:pt}),N=a(({header:t,children:e,inAccordion:i=!1,openOnLoad:s=!1})=>(Y.exports.useEffect(()=>{i||Et.init()},[i]),b("div",{className:"o-expandable o-expandable__padded o-expandable__background o-expandable__border",children:[b("button",{type:"button",className:"o-expandable_header o-expandable_target",title:"Expand content",children:[_("h3",{className:"h4 o-expandable_label",children:t}),b("span",{className:"o-expandable_link",children:[b("span",{className:"o-expandable_cue o-expandable_cue-open",children:[_("span",{className:"u-visually-hidden-on-mobile",children:"Show"}),_(z,{name:"plus-round",alt:"plus-round"})]}),b("span",{className:"o-expandable_cue o-expandable_cue-close",children:[_("span",{className:"u-visually-hidden-on-mobile",children:"Hide"}),_(z,{name:"minus-round",alt:"minus-round"})]})]})]}),_("div",{className:`o-expandable_content ${s?"o-expandable_content__onload-open":""}`,children:e})]})),"Expandable"),bt=N;try{N.displayName="Expandable",N.__docgenInfo={description:"",displayName:"Expandable",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},inAccordion:{defaultValue:{value:"false"},description:"",name:"inAccordion",required:!1,type:{name:"boolean"}},openOnLoad:{defaultValue:{value:"false"},description:"",name:"openOnLoad",required:!1,type:{name:"boolean"}}}}}catch{}export{bt as E,Et as a};
//# sourceMappingURL=Expandable.f8ba212a.js.map
