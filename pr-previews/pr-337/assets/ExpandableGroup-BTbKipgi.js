import{j as _}from"./jsx-runtime-Wp9Qcrv3.js";import{c as et}from"./index-DUolvyrz.js";import{r as nt,e as Y}from"./index-KmaxkdDD.js";import{I as Z}from"./Icon-DuFyHFXf.js";const L="data-js-hook",dt="behavior_",ct="state_";function W(){const t={};function n(e,r){return{}.hasOwnProperty.call(t,e)?t[e].push(r):t[e]=[r],this}function i(e,r){if(!{}.hasOwnProperty.call(t,e))return this;const l=t[e].indexOf(r);return l!==-1&&t[e].splice(l,1),this}function s(e,r){if(!{}.hasOwnProperty.call(t,e))return this;r=r||{};const l=t[e];for(let d=0,c=l.length;d<c;d++)l[d].call(this,r);return this}return this.addEventListener=n,this.removeEventListener=i,this.dispatchEvent=s,this.getRegisteredEvents=()=>t,this}function q(t,n){if(!t)return!1;let i=t.getAttribute(L);return i?(i=i.split(" "),i.indexOf(n)>-1):!1}function V(t,n){if(q(t,n))return n;if(n.indexOf(" ")!==-1){const s=L+" values cannot contain spaces!";throw new Error(s)}const i=t.getAttribute(L);return i!==null&&(n=i+" "+n),t.setAttribute(L,n),n}const X=ct+"atomic_init";function ut(t,n){if(!t||!t.classList){const i=t+' is not valid. Check that element is a DOM node with class "'+n+'"';throw new Error(i)}return t}function ht(t,n){const i=t.classList.contains(n)?t:t.querySelector("."+n);if(!i){const s=n+" not found on or in passed DOM node.";throw new Error(s)}return i}function ft(t,n){return ut(t,n),ht(t,n)}function pt(t){return q(t,X)?!1:(V(t,X),!0)}function Et(t,n,i,s={}){const r=(i||document).querySelectorAll(t),l=[];let d,c;for(let u=0,o=r.length;u<o;u++)c=r[u],q(c,X)===!1&&(d=new n(c),d.init(s),l.push(d));return l}function K(t,n){let i;if(q(t,n))return i=t,i;if(t){const s="["+L+"="+n+"]";i=t.querySelector(s)}if(!i){const s=n+" behavior not found on passed DOM node!";throw new Error(s)}return i}const I=dt+"flyout-menu",mt="["+L+"="+I;function it(t,n=!0){const i=K(t,I),s=P(t),e=K(t,I+"_content");let r=0;const l=0,d=1,c=2,u=3;let o,E,v;const S=F.bind(this),x=y.bind(this);let O,m=!0,b=!1;function P(a){const f=[],g=a.querySelectorAll(`${mt}_trigger]`);let D,A,z;for(let U=g.length>>>0;U--;){for(z=!1,D=g[U],A=D.parentElement;A!==a;)A.getAttribute(L)&&A.getAttribute(L).split(" ").indexOf(I)!==-1?(z=!0,A=a):A=A.parentElement;z||f.unshift(g[U])}return f}function j(a=!1){return r=a?u:l,s.forEach(f=>{w("expanded",f,a),f.addEventListener("click",h.bind(this)),f.addEventListener("touchstart",B,{passive:!0}),f.addEventListener("mouseover",k.bind(this)),f.addEventListener("mouseout",G.bind(this))}),e.setAttribute("data-open",a?"true":"false"),n&&!a&&e.setAttribute("hidden",""),J(),this}function w(a,f,g){const D=String(g);return f.setAttribute("aria-"+a,D),D}function B(){b=!0}function k(a){m||(b||this.dispatchEvent("triggerover",{target:this,trigger:a.target,type:"triggerover"}),b=!1)}function G(a){m||this.dispatchEvent("triggerout",{target:this,trigger:a.target,type:"triggerout"})}function h(a){if(!m)switch(this.dispatchEvent("triggerclick",{target:this,trigger:a.target,type:"triggerclick"}),a.preventDefault(),r){case l:case d:this.expand();break;case c:case u:this.collapse();break}}function M(){if(o==null||o.halt(),r===c||r===u)return this;if(r=c,n&&e.removeAttribute("hidden"),this.dispatchEvent("expandbegin",{target:this,type:"expandbegin"}),!E||!v)return x(),this;const a=o==null?void 0:o.isAnimated();return a&&o.addEventListener(p.END_EVENT,x),E(),a||x(),this}function C(){if(o==null||o.halt(),r===d||r===l)return this;for(let f=0,g=s.length;f<g;f++)w("expanded",s[f],!1);if(e.setAttribute("data-open","false"),r=d,this.dispatchEvent("collapsebegin",{target:this,type:"collapsebegin"}),!v||!E)return S(),this;const a=o==null?void 0:o.isAnimated();return a&&o.addEventListener(p.END_EVENT,S),v(),a||S(),this}function y(){r=u,e.setAttribute("data-open","true"),o&&o.removeEventListener(p.END_EVENT,x),this.dispatchEvent("expandend",{target:this,type:"expandend"});for(let a=0,f=s.length;a<f;a++)w("expanded",s[a],!0)}function F(){r=l,n&&e.setAttribute("hidden",""),o&&o.removeEventListener(p.END_EVENT,S),this.dispatchEvent("collapseend",{target:this,type:"collapseend"})}function st(a,f,g){o=a,f&&f!==v&&(v=f),g&&g!==E&&(E=g)}function rt(){o&&o.remove();let a;o=a,E=a,v=a}function at(){return{container:i,content:e,trigger:s}}function J(){return m&&(m=!1),!m}function ot(){return m||(m=!0),m}function lt(a){return O=a,this}const $=new W;return this.addEventListener=$.addEventListener,this.removeEventListener=$.removeEventListener,this.dispatchEvent=$.dispatchEvent,this.init=j,this.expand=M,this.collapse=C,this.setTransition=st,this.clearTransition=rt,this.getData=()=>O,this.getTransition=()=>o,this.getDom=at,this.isAnimating=()=>r===c||r===d,this.isExpanded=()=>r===u,this.resume=J,this.setData=lt,this.suspend=ot,it.BASE_CLASS=I,this}function p(t,n,i){const s=n;let e=t;if(!i)throw new Error("Child transition argument must be defined!");const r=i;let l,d,c,u=!1,o=!1,E=!1;if(typeof s.CSS_PROPERTY>"u"||typeof s.BASE_CLASS>"u")throw new Error("Transitions require CSS_PROPERTY and BASE_CLASS to be passed into BaseTransition.");function v(){d&&u?(e.addEventListener(d,c),r.dispatchEvent(p.BEGIN_EVENT,{target:r,type:p.BEGIN_EVENT}),e.classList.add(p.ANIMATING_CLASS),o=!0):(r.dispatchEvent(p.BEGIN_EVENT,{target:r,type:p.BEGIN_EVENT}),c())}function S(){e.removeEventListener(d,c)}function x(h){return h&&h.propertyName!==s.CSS_PROPERTY?!1:(S(),e.classList.remove(p.ANIMATING_CLASS),r.dispatchEvent(p.END_EVENT,{target:r,type:p.END_EVENT}),o=!1,!0)}function O(){let h;for(h in s)({}).hasOwnProperty.call(s,h)&&s[h]!==s.BASE_CLASS&&e.classList.contains(s[h])&&e.classList.remove(s[h])}function m(){o&&(e.style.webkitTransitionDuration="0",e.style.mozTransitionDuration="0",e.style.oTransitionDuration="0",e.style.transitionDuration="0",e.removeEventListener(d,c),c(),e.style.webkitTransitionDuration="",e.style.mozTransitionDuration="",e.style.oTransitionDuration="",e.style.transitionDuration="")}function b(){m(),O(),e.classList.remove(s.BASE_CLASS)}function P(){e.classList.remove(p.NO_ANIMATION_CLASS),u=!0}function j(){e.classList.add(p.NO_ANIMATION_CLASS),u=!1}function w(h){if(!h){const F="Element does not have TransitionEnd event. It may be null!";throw new Error(F)}let M;const C={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};let y;for(y in C)if({}.hasOwnProperty.call(C,y)&&typeof h.style[y]<"u"){M=C[y];break}return M}function B(h){b(),P(),e=h,e.classList.add(s.BASE_CLASS),d=w(e)}function k(h){if(u=!e.classList.contains(p.NO_ANIMATION_CLASS),c=x.bind(this),B(e),!h)throw new Error("Transition needs to be passed an initial CSS class on initialization!");return e.classList.add(h),this}function G(h){return E||(O(),E=!0),e.classList.contains(h)?!1:(S(),e.classList.remove(l),l=h,v(),e.classList.add(l),!0)}return this.animateOff=j,this.animateOn=P,this.applyClass=G,this.halt=m,this.init=k,this.isAnimated=()=>u,this.remove=b,this.setElement=B,this}p.BEGIN_EVENT="transitionbegin";p.END_EVENT="transitionend";p.NO_ANIMATION_CLASS="u-no-animation";p.ANIMATING_CLASS="u-is-animating";const H={CSS_PROPERTY:"max-height",BASE_CLASS:"u-max-height-transition",MH_DEFAULT:"u-max-height-default",MH_SUMMARY:"u-max-height-summary",MH_ZERO:"u-max-height-zero"};function R(t){const n=new W,i=new p(t,H,this);let s=0;function e(){const v=t.scrollHeight+"px";t.style.maxHeight=v}function r(){window.removeEventListener("load",r),e()}function l(E){return i.init(E),window.addEventListener("load",r),window.addEventListener("resize",()=>{e()}),this}function d(){return e(),i.applyClass(H.MH_DEFAULT),(!s||t.scrollHeight>s)&&(s=t.scrollHeight),this}function c(){return i.applyClass(H.MH_SUMMARY),s=t.scrollHeight,this}function u(){return i.applyClass(H.MH_ZERO),s=t.scrollHeight,this}function o(){return t.style.maxHeight="",i.remove()}return this.addEventListener=n.addEventListener,this.dispatchEvent=n.dispatchEvent,this.removeEventListener=n.removeEventListener,this.animateOff=i.animateOff,this.animateOn=i.animateOn,this.halt=i.halt,this.isAnimated=i.isAnimated,this.setElement=i.setElement,this.refresh=e,this.remove=o,this.init=l,this.maxHeightDefault=d,this.maxHeightSummary=c,this.maxHeightZero=u,this}R.CLASSES=H;const T="o-expandable";function N(t){const n=ft(t,T);let i,s,e,r,l;function d(){if(!pt(n))return this;i=n.querySelector(`.${T}__header`),s=n.querySelector(`.${T}__content`),e=n.querySelector(`.${T}__label`);const o=n.classList.contains(`${T}--onload-open`);V(n,"behavior_flyout-menu"),V(i,"behavior_flyout-menu_trigger"),V(s,"behavior_flyout-menu_content");const E=o?R.CLASSES.MH_DEFAULT:R.CLASSES.MH_ZERO;return r=new R(s).init(E),l=new it(n),l.setTransition(r,r.maxHeightZero,r.maxHeightDefault),l.init(o),l.addEventListener("expandbegin",()=>{s.classList.remove("u-hidden"),this.dispatchEvent("expandbegin",{target:this})}),l.addEventListener("collapseend",()=>{s.classList.add("u-hidden")}),this}function c(){return e.textContent.trim()}this.init=d,this.expand=()=>l.expand(),this.collapse=()=>l.collapse(),this.isExpanded=()=>l.isExpanded(),this.refresh=()=>l.getTransition().refresh(),this.getLabelText=c;const u=new W;return this.addEventListener=u.addEventListener,this.removeEventListener=u.removeEventListener,this.dispatchEvent=u.dispatchEvent,this}N.BASE_CLASS=T;N.init=t=>Et(`.${N.BASE_CLASS}`,N,t);const Q=({header:t,children:n,icon:i="",inAccordion:s=!1,isPadded:e=!1,openOnLoad:r=!1,className:l="",...d})=>{nt.useEffect(()=>{s||N.init()},[s]);const c=["o-expandable","o-expandable--background","o-expandable--border",l];return e&&c.push("o-expandable--padded"),r&&c.push("o-expandable--onload-open"),_.jsxs("div",{className:et(c),...d,children:[_.jsxs("button",{type:"button",className:"o-expandable__header",title:t,children:[i?_.jsx("span",{className:"o-expandable__icon",children:_.jsx(Z,{name:i})}):null,_.jsx("h3",{className:"o-expandable__label",children:t}),_.jsxs("span",{className:"o-expandable__cues",children:[_.jsx("span",{className:"o-expandable__cue-open",children:_.jsx(Z,{name:"plus-round",alt:"plus-round"})}),_.jsx("span",{className:"o-expandable__cue-close",children:_.jsx(Z,{name:"minus-round",alt:"minus-round"})})]})]}),_.jsx("div",{className:"o-expandable__content",children:n})]})};try{Q.displayName="Expandable",Q.__docgenInfo={description:"",displayName:"Expandable",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},icon:{defaultValue:{value:""},description:"",name:"icon",required:!1,type:{name:"string"}},inAccordion:{defaultValue:{value:"false"},description:"",name:"inAccordion",required:!1,type:{name:"boolean"}},isPadded:{defaultValue:{value:"false"},description:"",name:"isPadded",required:!1,type:{name:"boolean"}},openOnLoad:{defaultValue:{value:"false"},description:"",name:"openOnLoad",required:!1,type:{name:"boolean"}}}}}catch{}const tt=({groupId:t,accordion:n=!1,children:i,className:s="",...e})=>{const r=["o-expandable-group",s];n&&r.push("o-expandable-group--accordion"),nt.useEffect(()=>{n&&N.init(document.querySelector(`#${t}`))},[n,t]);const l=Y.Children.map(i,d=>Y.isValidElement(d)&&n?Y.cloneElement(d,{inAccordion:n}):d);return _.jsx("div",{id:t,className:et(r),...e,children:l})};try{tt.displayName="ExpandableGroup",tt.__docgenInfo={description:"",displayName:"ExpandableGroup",props:{groupId:{defaultValue:null,description:"",name:"groupId",required:!0,type:{name:"string"}},accordion:{defaultValue:{value:"false"},description:"",name:"accordion",required:!1,type:{name:"boolean"}}}}}catch{}export{Q as E,tt as a,W as b,ft as c,Et as i,pt as s};
