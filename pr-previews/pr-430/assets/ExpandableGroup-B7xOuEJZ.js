import{j as S}from"./jsx-runtime-Wp9Qcrv3.js";import{c as nt}from"./index-DUolvyrz.js";import{r as it,e as U}from"./index-KmaxkdDD.js";import{I as J}from"./Icon-D8rI-_fq.js";const b="data-js-hook",dt="behavior_",ut="state_";function X(){const t={};function i(e,s){return{}.hasOwnProperty.call(t,e)?t[e].push(s):t[e]=[s],this}function r(e,s){if(!{}.hasOwnProperty.call(t,e))return this;const l=t[e].indexOf(s);return l!==-1&&t[e].splice(l,1),this}function n(e,s){if(!{}.hasOwnProperty.call(t,e))return this;s=s||{};const l=t[e];for(let c=0,d=l.length;c<d;c++)l[c].call(this,s);return this}return this.addEventListener=i,this.removeEventListener=r,this.dispatchEvent=n,this.getRegisteredEvents=()=>t,this}function k(t,i){if(!t)return!1;let r=t.getAttribute(b);return r?(r=r.split(" "),r.indexOf(i)>-1):!1}function R(t,i){if(k(t,i))return i;if(i.indexOf(" ")!==-1){const n=b+" values cannot contain spaces!";throw new Error(n)}const r=t.getAttribute(b);return r!==null&&(i=r+" "+i),t.setAttribute(b,i),i}const Z=ut+"atomic_init";function ht(t,i){if(!t||!t.classList){const r=t+' is not valid. Check that element is a DOM node with class "'+i+'"';throw new Error(r)}return t}function ft(t,i){const r=t.classList.contains(i)?t:t.querySelector("."+i);if(!r){const n=i+" not found on or in passed DOM node.";throw new Error(n)}return r}function pt(t,i){return ht(t,i),ft(t,i)}function Et(t){return k(t,Z)?!1:(R(t,Z),!0)}function gt(t,i,r,n={}){const s=(r||document).querySelectorAll(t),l=[];let c,d;for(let u=0,a=s.length;u<a;u++)d=s[u],k(d,Z)===!1&&(c=new i(d),c.init(n),l.push(c));return l}function K(t,i){let r;if(k(t,i))return r=t,r;if(t){const n="["+b+"="+i+"]";r=t.querySelector(n)}if(!r){const n=i+" behavior not found on passed DOM node!";throw new Error(n)}return r}function E(t,i,r){const n=i;let e=t;if(!r)throw new Error("Child transition argument must be defined!");const s=r;let l,c,d,u=!1,a=!1,m=!1;if(typeof n.CSS_PROPERTY>"u"||typeof n.BASE_CLASS>"u")throw new Error("Transitions require CSS_PROPERTY and BASE_CLASS to be passed into BaseTransition.");function L(){c&&u?(e.addEventListener(c,d),s.dispatchEvent(E.BEGIN_EVENT,{target:s,type:E.BEGIN_EVENT}),e.classList.add(E.ANIMATING_CLASS),a=!0):(s.dispatchEvent(E.BEGIN_EVENT,{target:s,type:E.BEGIN_EVENT}),d())}function A(){e.removeEventListener(c,d)}function f(h){return h&&h.propertyName!==n.CSS_PROPERTY?!1:(A(),e.classList.remove(E.ANIMATING_CLASS),s.dispatchEvent(E.END_EVENT,{target:s,type:E.END_EVENT}),a=!1,!0)}function _(){let h;for(h in n)({}).hasOwnProperty.call(n,h)&&n[h]!==n.BASE_CLASS&&e.classList.contains(n[h])&&e.classList.remove(n[h])}function g(){a&&(e.style.webkitTransitionDuration="0",e.style.mozTransitionDuration="0",e.style.oTransitionDuration="0",e.style.transitionDuration="0",e.removeEventListener(c,d),d(),e.style.webkitTransitionDuration="",e.style.mozTransitionDuration="",e.style.oTransitionDuration="",e.style.transitionDuration="")}function v(){g(),_(),e.classList.remove(n.BASE_CLASS)}function y(){e.classList.remove(E.NO_ANIMATION_CLASS),u=!0}function q(){e.classList.add(E.NO_ANIMATION_CLASS),u=!1}function H(h){if(!h){const j="Element does not have TransitionEnd event. It may be null!";throw new Error(j)}let P;const D={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};let N;for(N in D)if({}.hasOwnProperty.call(D,N)&&typeof h.style[N]<"u"){P=D[N];break}return P}function M(h){v(),y(),e=h,e.classList.add(n.BASE_CLASS),c=H(e)}function G(h){if(u=!e.classList.contains(E.NO_ANIMATION_CLASS),d=f.bind(this),M(e),!h)throw new Error("Transition needs to be passed an initial CSS class on initialization!");return e.classList.add(h),this}function $(h){return m||(_(),m=!0),e.classList.contains(h)?!1:(A(),e.classList.remove(l),l=h,L(),e.classList.add(l),!0)}return this.animateOff=q,this.animateOn=y,this.applyClass=$,this.halt=g,this.init=G,this.isAnimated=()=>u,this.remove=v,this.setElement=M,this}E.BEGIN_EVENT="transitionbegin";E.END_EVENT="transitionend";E.NO_ANIMATION_CLASS="u-no-animation";E.ANIMATING_CLASS="u-is-animating";const B=dt+"flyout-menu",_t="["+b+"="+B;function st(t,i=!0){const r=K(t,B),n=y(t),e=K(t,B+"_content");let s=0;const l=0,c=1,d=2,u=3;let a,m,L;const A=j.bind(this),f=N.bind(this);let _,g=!0,v=!1;function y(o){const p=[],x=o.querySelectorAll(`${_t}_trigger]`);let I,T,Y;for(let z=x.length>>>0;z--;){for(Y=!1,I=x[z],T=I.parentElement;T!==o;)T.getAttribute(b)&&T.getAttribute(b).split(" ").indexOf(B)!==-1?(Y=!0,T=o):T=T.parentElement;Y||p.unshift(x[z])}return p}function q(o=!1){return s=o?u:l,n.forEach(p=>{H("expanded",p,o),p.addEventListener("click",h.bind(this)),p.addEventListener("touchstart",M,{passive:!0}),p.addEventListener("mouseover",G.bind(this)),p.addEventListener("mouseout",$.bind(this))}),e.setAttribute("data-open",o?"true":"false"),i&&!o&&e.setAttribute("hidden",""),W(),this}function H(o,p,x){const I=String(x);return p.setAttribute("aria-"+o,I),I}function M(){v=!0}function G(o){g||(v||this.dispatchEvent("triggerover",{target:this,trigger:o.target,type:"triggerover"}),v=!1)}function $(o){g||this.dispatchEvent("triggerout",{target:this,trigger:o.target,type:"triggerout"})}function h(o){if(!g)switch(this.dispatchEvent("triggerclick",{target:this,trigger:o.target,type:"triggerclick"}),o.preventDefault(),s){case l:case c:this.expand();break;case d:case u:this.collapse();break}}function P(){if(a==null||a.halt(),s===d||s===u)return this;if(s=d,i&&e.removeAttribute("hidden"),this.dispatchEvent("expandbegin",{target:this,type:"expandbegin"}),!m||!L)return f(),this;const o=a==null?void 0:a.isAnimated();return o&&a.addEventListener(E.END_EVENT,f),m(),o||f(),this}function D(){if(a==null||a.halt(),s===c||s===l)return this;for(let p=0,x=n.length;p<x;p++)H("expanded",n[p],!1);if(e.setAttribute("data-open","false"),s=c,this.dispatchEvent("collapsebegin",{target:this,type:"collapsebegin"}),!L||!m)return A(),this;const o=a==null?void 0:a.isAnimated();return o&&a.addEventListener(E.END_EVENT,A),L(),o||A(),this}function N(){s=u,e.setAttribute("data-open","true"),a&&a.removeEventListener(E.END_EVENT,f),this.dispatchEvent("expandend",{target:this,type:"expandend"});for(let o=0,p=n.length;o<p;o++)H("expanded",n[o],!0)}function j(){s=l,i&&e.setAttribute("hidden",""),a&&a.removeEventListener(E.END_EVENT,A),this.dispatchEvent("collapseend",{target:this,type:"collapseend"})}function rt(o,p,x){a=o,p&&p!==L&&(L=p),x&&x!==m&&(m=x)}function at(){a&&a.remove();let o;a=o,m=o,L=o}function ot(){return{container:r,content:e,trigger:n}}function W(){return g&&(g=!1),!g}function lt(){return g||(g=!0),g}function ct(o){return _=o,this}const F=new X;return this.addEventListener=F.addEventListener,this.removeEventListener=F.removeEventListener,this.dispatchEvent=F.dispatchEvent,this.init=q,this.expand=P,this.collapse=D,this.setTransition=rt,this.clearTransition=at,this.getData=()=>_,this.getTransition=()=>a,this.getDom=ot,this.isAnimating=()=>s===d||s===c,this.isExpanded=()=>s===u,this.resume=W,this.setData=ct,this.suspend=lt,st.BASE_CLASS=B,this}const Q="transitiondir",O={CSS_PROPERTY:"max-height",BASE_CLASS:"u-max-height-transition",MH_DEFAULT:"u-max-height-default",MH_SUMMARY:"u-max-height-summary",MH_DYNAMIC:"u-max-height-dynamic",MH_ZERO:"u-max-height-zero"};function V(t){const i=this,r=new X,n=new E(t,O,this);let e=0;function s(){const _=t.scrollHeight+"px";t.style.maxHeight=_,t.style.bottom="auto",t.style.top="auto"}function l(){const f=t.getBoundingClientRect(),_=window.innerHeight-f.bottom,g=f.top,v=_<=140?"up":"down";return{rect:f,distanceToBottom:_,distanceToTop:g,dir:v}}function c(){window.removeEventListener("load",c),s()}function d(f){return n.init(f),window.addEventListener("load",c),window.addEventListener("resize",()=>{s()}),this}function u(){return s(),n.applyClass(O.MH_DEFAULT),(!e||t.scrollHeight>e)&&(e=t.scrollHeight),this}function a(){return s(),n.applyClass(O.MH_SUMMARY),e=t.scrollHeight,this}function m(){s(),t.style.top="100%";const f=l();let _=30;const g=2;let v=t.scrollHeight+_<f.distanceToBottom?`${t.scrollHeight+g}px`:`${f.distanceToBottom-_}px`;if(f.dir==="up"){const y=t.parentElement.offsetHeight;_+=y,t.style.bottom=`${y-g}px`,v=t.scrollHeight+_<f.distanceToTop?`${t.scrollHeight+g}px`:`${f.distanceToTop-_}px`,t.style.top="unset"}return t.style.maxHeight=v,n.applyClass(O.MH_DYNAMIC),i.dispatchEvent(Q,{target:i,type:Q,dir:f.dir}),e=t.scrollHeight,this}function L(){return n.applyClass(O.MH_ZERO),e=t.scrollHeight,this}function A(){return t.style.maxHeight="",n.remove()}return this.addEventListener=r.addEventListener,this.dispatchEvent=r.dispatchEvent,this.removeEventListener=r.removeEventListener,this.animateOff=n.animateOff,this.animateOn=n.animateOn,this.halt=n.halt,this.isAnimated=n.isAnimated,this.setElement=n.setElement,this.refresh=s,this.remove=A,this.init=d,this.maxHeightDefault=u,this.maxHeightSummary=a,this.maxHeightZero=L,this.maxHeightDynamic=m,this}V.CLASSES=O;const w="o-expandable";function C(t){const i=pt(t,w);let r,n,e,s,l;function c(){if(!Et(i))return this;r=i.querySelector(`.${w}__header`),n=i.querySelector(`.${w}__content`),e=i.querySelector(`.${w}__label`);const a=i.classList.contains(`${w}--onload-open`);R(i,"behavior_flyout-menu"),R(r,"behavior_flyout-menu_trigger"),R(n,"behavior_flyout-menu_content");const m=a?V.CLASSES.MH_DEFAULT:V.CLASSES.MH_ZERO;return s=new V(n).init(m),a||n.classList.add("u-hidden"),l=new st(i),l.setTransition(s,s.maxHeightZero,s.maxHeightDefault),l.init(a),l.addEventListener("expandbegin",()=>{n.classList.remove("u-hidden"),this.dispatchEvent("expandbegin",{target:this})}),l.addEventListener("collapseend",()=>{n.classList.add("u-hidden")}),this}function d(){return e.textContent.trim()}this.init=c,this.expand=()=>l.expand(),this.collapse=()=>l.collapse(),this.isExpanded=()=>l.isExpanded(),this.refresh=()=>l.getTransition().refresh(),this.getLabelText=d;const u=new X;return this.addEventListener=u.addEventListener,this.removeEventListener=u.removeEventListener,this.dispatchEvent=u.dispatchEvent,this}C.BASE_CLASS=w;C.init=t=>gt(`.${C.BASE_CLASS}`,C,t);const tt=({header:t,children:i,inAccordion:r=!1,openOnLoad:n=!1,className:e="",...s})=>{it.useEffect(()=>{r||C.init()},[r]);const l=["o-expandable","o-expandable--padded","o-expandable--background","o-expandable--border",e];return n&&l.push("o-expandable--onload-open"),S.jsxs("div",{className:nt(l),...s,children:[S.jsxs("button",{type:"button",className:"o-expandable__header o-expandable__target",title:t,children:[S.jsx("h3",{className:"h4 o-expandable__label",children:t}),S.jsxs("span",{className:"o-expandable__link",children:[S.jsx("span",{className:"o-expandable__cue o-expandable__cue-open",children:S.jsx(J,{name:"plus-round",alt:"plus-round"})}),S.jsx("span",{className:"o-expandable__cue o-expandable__cue-close",children:S.jsx(J,{name:"minus-round",alt:"minus-round"})})]})]}),S.jsx("div",{className:"o-expandable__content",children:i})]})};try{tt.displayName="Expandable",tt.__docgenInfo={description:"",displayName:"Expandable",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},inAccordion:{defaultValue:{value:"false"},description:"",name:"inAccordion",required:!1,type:{name:"boolean"}},openOnLoad:{defaultValue:{value:"false"},description:"",name:"openOnLoad",required:!1,type:{name:"boolean"}}}}}catch{}const et=({groupId:t,accordion:i=!1,children:r,className:n="",...e})=>{const s=["o-expandable-group",n];i&&s.push("o-expandable-group--accordion"),it.useEffect(()=>{i&&C.init(document.querySelector(`#${t}`))},[i,t]);const l=U.Children.map(r,c=>U.isValidElement(c)&&i?U.cloneElement(c,{inAccordion:i}):c);return S.jsx("div",{id:t,className:nt(s),...e,children:l})};try{et.displayName="ExpandableGroup",et.__docgenInfo={description:"",displayName:"ExpandableGroup",props:{groupId:{defaultValue:null,description:"",name:"groupId",required:!0,type:{name:"string"}},accordion:{defaultValue:{value:"false"},description:"",name:"accordion",required:!1,type:{name:"boolean"}}}}}catch{}export{tt as E,et as a,X as b,pt as c,gt as i,Et as s};
