import{j as v}from"./jsx-runtime-Wp9Qcrv3.js";import{c as nt}from"./index-DUolvyrz.js";import{r as it,e as U}from"./index-KmaxkdDD.js";import{I as Z}from"./Icon-C1dHVwIg.js";const b="data-js-hook",ct="behavior_",ut="state_";function W(){const t={};function i(e,s){return{}.hasOwnProperty.call(t,e)?t[e].push(s):t[e]=[s],this}function r(e,s){if(!{}.hasOwnProperty.call(t,e))return this;const l=t[e].indexOf(s);return l!==-1&&t[e].splice(l,1),this}function n(e,s){if(!{}.hasOwnProperty.call(t,e))return this;s=s||{};const l=t[e];for(let d=0,c=l.length;d<c;d++)l[d].call(this,s);return this}return this.addEventListener=i,this.removeEventListener=r,this.dispatchEvent=n,this.getRegisteredEvents=()=>t,this}function q(t,i){if(!t)return!1;let r=t.getAttribute(b);return r?(r=r.split(" "),r.indexOf(i)>-1):!1}function V(t,i){if(q(t,i))return i;if(i.indexOf(" ")!==-1){const n=b+" values cannot contain spaces!";throw new Error(n)}const r=t.getAttribute(b);return r!==null&&(i=r+" "+i),t.setAttribute(b,i),i}const X=ut+"atomic_init";function ht(t,i){if(!t||!t.classList){const r=t+' is not valid. Check that element is a DOM node with class "'+i+'"';throw new Error(r)}return t}function ft(t,i){const r=t.classList.contains(i)?t:t.querySelector("."+i);if(!r){const n=i+" not found on or in passed DOM node.";throw new Error(n)}return r}function pt(t,i){return ht(t,i),ft(t,i)}function Et(t){return q(t,X)?!1:(V(t,X),!0)}function gt(t,i,r,n={}){const s=(r||document).querySelectorAll(t),l=[];let d,c;for(let u=0,a=s.length;u<a;u++)c=s[u],q(c,X)===!1&&(d=new i(c),d.init(n),l.push(d));return l}function K(t,i){let r;if(q(t,i))return r=t,r;if(t){const n="["+b+"="+i+"]";r=t.querySelector(n)}if(!r){const n=i+" behavior not found on passed DOM node!";throw new Error(n)}return r}function E(t,i,r){const n=i;let e=t;if(!r)throw new Error("Child transition argument must be defined!");const s=r;let l,d,c,u=!1,a=!1,_=!1;if(typeof n.CSS_PROPERTY>"u"||typeof n.BASE_CLASS>"u")throw new Error("Transitions require CSS_PROPERTY and BASE_CLASS to be passed into BaseTransition.");function S(){d&&u?(e.addEventListener(d,c),s.dispatchEvent(E.BEGIN_EVENT,{target:s,type:E.BEGIN_EVENT}),e.classList.add(E.ANIMATING_CLASS),a=!0):(s.dispatchEvent(E.BEGIN_EVENT,{target:s,type:E.BEGIN_EVENT}),c())}function A(){e.removeEventListener(d,c)}function f(h){return h&&h.propertyName!==n.CSS_PROPERTY?!1:(A(),e.classList.remove(E.ANIMATING_CLASS),s.dispatchEvent(E.END_EVENT,{target:s,type:E.END_EVENT}),a=!1,!0)}function m(){let h;for(h in n)({}).hasOwnProperty.call(n,h)&&n[h]!==n.BASE_CLASS&&e.classList.contains(n[h])&&e.classList.remove(n[h])}function g(){a&&(e.style.webkitTransitionDuration="0",e.style.mozTransitionDuration="0",e.style.oTransitionDuration="0",e.style.transitionDuration="0",e.removeEventListener(d,c),c(),e.style.webkitTransitionDuration="",e.style.mozTransitionDuration="",e.style.oTransitionDuration="",e.style.transitionDuration="")}function x(){g(),m(),e.classList.remove(n.BASE_CLASS)}function y(){e.classList.remove(E.NO_ANIMATION_CLASS),u=!0}function j(){e.classList.add(E.NO_ANIMATION_CLASS),u=!1}function H(h){if(!h){const $="Element does not have TransitionEnd event. It may be null!";throw new Error($)}let P;const D={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};let N;for(N in D)if({}.hasOwnProperty.call(D,N)&&typeof h.style[N]<"u"){P=D[N];break}return P}function M(h){x(),y(),e=h,e.classList.add(n.BASE_CLASS),d=H(e)}function k(h){if(u=!e.classList.contains(E.NO_ANIMATION_CLASS),c=f.bind(this),M(e),!h)throw new Error("Transition needs to be passed an initial CSS class on initialization!");return e.classList.add(h),this}function G(h){return _||(m(),_=!0),e.classList.contains(h)?!1:(A(),e.classList.remove(l),l=h,S(),e.classList.add(l),!0)}return this.animateOff=j,this.animateOn=y,this.applyClass=G,this.halt=g,this.init=k,this.isAnimated=()=>u,this.remove=x,this.setElement=M,this}E.BEGIN_EVENT="transitionbegin";E.END_EVENT="transitionend";E.NO_ANIMATION_CLASS="u-no-animation";E.ANIMATING_CLASS="u-is-animating";const B=ct+"flyout-menu",mt="["+b+"="+B;function st(t,i=!0){const r=K(t,B),n=y(t),e=K(t,B+"_content");let s=0;const l=0,d=1,c=2,u=3;let a,_,S;const A=$.bind(this),f=N.bind(this);let m,g=!0,x=!1;function y(o){const p=[],L=o.querySelectorAll(`${mt}_trigger]`);let I,T,Y;for(let z=L.length>>>0;z--;){for(Y=!1,I=L[z],T=I.parentElement;T!==o;)T.getAttribute(b)&&T.getAttribute(b).split(" ").indexOf(B)!==-1?(Y=!0,T=o):T=T.parentElement;Y||p.unshift(L[z])}return p}function j(o=!1){return s=o?u:l,n.forEach(p=>{H("expanded",p,o),p.addEventListener("click",h.bind(this)),p.addEventListener("touchstart",M,{passive:!0}),p.addEventListener("mouseover",k.bind(this)),p.addEventListener("mouseout",G.bind(this))}),e.setAttribute("data-open",o?"true":"false"),i&&!o&&e.setAttribute("hidden",""),J(),this}function H(o,p,L){const I=String(L);return p.setAttribute("aria-"+o,I),I}function M(){x=!0}function k(o){g||(x||this.dispatchEvent("triggerover",{target:this,trigger:o.target,type:"triggerover"}),x=!1)}function G(o){g||this.dispatchEvent("triggerout",{target:this,trigger:o.target,type:"triggerout"})}function h(o){if(!g)switch(this.dispatchEvent("triggerclick",{target:this,trigger:o.target,type:"triggerclick"}),o.preventDefault(),s){case l:case d:this.expand();break;case c:case u:this.collapse();break}}function P(){if(a==null||a.halt(),s===c||s===u)return this;if(s=c,i&&e.removeAttribute("hidden"),this.dispatchEvent("expandbegin",{target:this,type:"expandbegin"}),!_||!S)return f(),this;const o=a==null?void 0:a.isAnimated();return o&&a.addEventListener(E.END_EVENT,f),_(),o||f(),this}function D(){if(a==null||a.halt(),s===d||s===l)return this;for(let p=0,L=n.length;p<L;p++)H("expanded",n[p],!1);if(e.setAttribute("data-open","false"),s=d,this.dispatchEvent("collapsebegin",{target:this,type:"collapsebegin"}),!S||!_)return A(),this;const o=a==null?void 0:a.isAnimated();return o&&a.addEventListener(E.END_EVENT,A),S(),o||A(),this}function N(){s=u,e.setAttribute("data-open","true"),a&&a.removeEventListener(E.END_EVENT,f),this.dispatchEvent("expandend",{target:this,type:"expandend"});for(let o=0,p=n.length;o<p;o++)H("expanded",n[o],!0)}function $(){s=l,i&&e.setAttribute("hidden",""),a&&a.removeEventListener(E.END_EVENT,A),this.dispatchEvent("collapseend",{target:this,type:"collapseend"})}function rt(o,p,L){a=o,p&&p!==S&&(S=p),L&&L!==_&&(_=L)}function at(){a&&a.remove();let o;a=o,_=o,S=o}function ot(){return{container:r,content:e,trigger:n}}function J(){return g&&(g=!1),!g}function lt(){return g||(g=!0),g}function dt(o){return m=o,this}const F=new W;return this.addEventListener=F.addEventListener,this.removeEventListener=F.removeEventListener,this.dispatchEvent=F.dispatchEvent,this.init=j,this.expand=P,this.collapse=D,this.setTransition=rt,this.clearTransition=at,this.getData=()=>m,this.getTransition=()=>a,this.getDom=ot,this.isAnimating=()=>s===c||s===d,this.isExpanded=()=>s===u,this.resume=J,this.setData=dt,this.suspend=lt,st.BASE_CLASS=B,this}const Q="transitiondir",O={CSS_PROPERTY:"max-height",BASE_CLASS:"u-max-height-transition",MH_DEFAULT:"u-max-height-default",MH_SUMMARY:"u-max-height-summary",MH_DYNAMIC:"u-max-height-dynamic",MH_ZERO:"u-max-height-zero"};function R(t){const i=this,r=new W,n=new E(t,O,this);let e=0;function s(){const m=t.scrollHeight+"px";t.style.maxHeight=m,t.style.bottom="auto",t.style.top="auto"}function l(){const f=t.getBoundingClientRect(),m=window.innerHeight-f.bottom,g=f.top,x=m<=140?"up":"down";return{rect:f,distanceToBottom:m,distanceToTop:g,dir:x}}function d(){window.removeEventListener("load",d),s()}function c(f){return n.init(f),window.addEventListener("load",d),window.addEventListener("resize",()=>{s()}),this}function u(){return s(),n.applyClass(O.MH_DEFAULT),(!e||t.scrollHeight>e)&&(e=t.scrollHeight),this}function a(){return s(),n.applyClass(O.MH_SUMMARY),e=t.scrollHeight,this}function _(){s(),t.style.top="100%";const f=l();let m=30;const g=2;let x=t.scrollHeight+m<f.distanceToBottom?`${t.scrollHeight+g}px`:`${f.distanceToBottom-m}px`;if(f.dir==="up"){const y=t.parentElement.offsetHeight;m+=y,t.style.bottom=`${y-g}px`,x=t.scrollHeight+m<f.distanceToTop?`${t.scrollHeight+g}px`:`${f.distanceToTop-m}px`,t.style.top="unset"}return t.style.maxHeight=x,n.applyClass(O.MH_DYNAMIC),i.dispatchEvent(Q,{target:i,type:Q,dir:f.dir}),e=t.scrollHeight,this}function S(){return n.applyClass(O.MH_ZERO),e=t.scrollHeight,this}function A(){return t.style.maxHeight="",n.remove()}return this.addEventListener=r.addEventListener,this.dispatchEvent=r.dispatchEvent,this.removeEventListener=r.removeEventListener,this.animateOff=n.animateOff,this.animateOn=n.animateOn,this.halt=n.halt,this.isAnimated=n.isAnimated,this.setElement=n.setElement,this.refresh=s,this.remove=A,this.init=c,this.maxHeightDefault=u,this.maxHeightSummary=a,this.maxHeightZero=S,this.maxHeightDynamic=_,this}R.CLASSES=O;const w="o-expandable";function C(t){const i=pt(t,w);let r,n,e,s,l;function d(){if(!Et(i))return this;r=i.querySelector(`.${w}__header`),n=i.querySelector(`.${w}__content`),e=i.querySelector(`.${w}__label`);const a=i.classList.contains(`${w}--onload-open`);V(i,"behavior_flyout-menu"),V(r,"behavior_flyout-menu_trigger"),V(n,"behavior_flyout-menu_content");const _=a?R.CLASSES.MH_DEFAULT:R.CLASSES.MH_ZERO;return s=new R(n).init(_),a||n.classList.add("u-hidden"),l=new st(i),l.setTransition(s,s.maxHeightZero,s.maxHeightDefault),l.init(a),l.addEventListener("expandbegin",()=>{n.classList.remove("u-hidden"),this.dispatchEvent("expandbegin",{target:this})}),l.addEventListener("collapseend",()=>{n.classList.add("u-hidden")}),this}function c(){return e.textContent.trim()}this.init=d,this.expand=()=>l.expand(),this.collapse=()=>l.collapse(),this.isExpanded=()=>l.isExpanded(),this.refresh=()=>l.getTransition().refresh(),this.getLabelText=c;const u=new W;return this.addEventListener=u.addEventListener,this.removeEventListener=u.removeEventListener,this.dispatchEvent=u.dispatchEvent,this}C.BASE_CLASS=w;C.init=t=>gt(`.${C.BASE_CLASS}`,C,t);const tt=({header:t,children:i,icon:r="",inAccordion:n=!1,isPadded:e=!1,openOnLoad:s=!1,className:l="",...d})=>{it.useEffect(()=>{n||C.init()},[n]);const c=["o-expandable","o-expandable--background","o-expandable--border",l];return e&&c.push("o-expandable--padded"),s&&c.push("o-expandable--onload-open"),v.jsxs("div",{className:nt(c),...d,children:[v.jsxs("button",{type:"button",className:"o-expandable__header",title:t,children:[r?v.jsx("span",{className:"o-expandable__icon",children:v.jsx(Z,{name:r})}):null,v.jsx("h3",{className:"o-expandable__label",children:t}),v.jsxs("span",{className:"o-expandable__cues",children:[v.jsx("span",{className:"o-expandable__cue-open",children:v.jsx(Z,{name:"plus-round",alt:"plus-round"})}),v.jsx("span",{className:"o-expandable__cue-close",children:v.jsx(Z,{name:"minus-round",alt:"minus-round"})})]})]}),v.jsx("div",{className:"o-expandable__content",children:i})]})};try{tt.displayName="Expandable",tt.__docgenInfo={description:"",displayName:"Expandable",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},icon:{defaultValue:{value:""},description:"",name:"icon",required:!1,type:{name:"string"}},inAccordion:{defaultValue:{value:"false"},description:"",name:"inAccordion",required:!1,type:{name:"boolean"}},isPadded:{defaultValue:{value:"false"},description:"",name:"isPadded",required:!1,type:{name:"boolean"}},openOnLoad:{defaultValue:{value:"false"},description:"",name:"openOnLoad",required:!1,type:{name:"boolean"}}}}}catch{}const et=({groupId:t,accordion:i=!1,children:r,className:n="",...e})=>{const s=["o-expandable-group",n];i&&s.push("o-expandable-group--accordion"),it.useEffect(()=>{i&&C.init(document.querySelector(`#${t}`))},[i,t]);const l=U.Children.map(r,d=>U.isValidElement(d)&&i?U.cloneElement(d,{inAccordion:i}):d);return v.jsx("div",{id:t,className:nt(s),...e,children:l})};try{et.displayName="ExpandableGroup",et.__docgenInfo={description:"",displayName:"ExpandableGroup",props:{groupId:{defaultValue:null,description:"",name:"groupId",required:!0,type:{name:"string"}},accordion:{defaultValue:{value:"false"},description:"",name:"accordion",required:!1,type:{name:"boolean"}}}}}catch{}export{tt as E,et as a,W as b,pt as c,gt as i,Et as s};
