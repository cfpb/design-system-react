import{j as t}from"./jsx-runtime-Wp9Qcrv3.js";import{s as P,t as R,v as W,w as u,x as U,M as p,y as V}from"./TextIntroduction-mVbsiRTb.js";import{c as J}from"./index-DUolvyrz.js";import{r as Q}from"./index-KmaxkdDD.js";/* empty css                */import{I as M}from"./Dropdown-C7AigU-g.js";import"./Checkbox-uScmMply.js";import"./Well-DMVuktKN.js";import"./Paragraph-CHJO3p8T.js";import"./TextArea-byJ3EejR.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-XmDEAOo_.js";import"./iframe-Dfjl7X6g.js";const B={bpXS:{min:0,max:600},bpSM:{min:601,max:900},bpMED:{min:901,max:1020},bpLG:{min:1021,max:1200},bpXL:{min:1201}};function v(){let n=getComputedStyle(document.body).fontSize;return n=n===""?-1:n,parseFloat(n)}function Z(n,e){let r=n.min,s=n.max;v()>0&&v()!==16&&(r=r/16*v(),s=s/16*v());const i=r||0,o=s||Number.POSITIVE_INFINITY;return i<=e&&e<=o}function ee(n){const e={};n=n||window.innerWidth;let r;for(r in B)e[r]=Z(B[r],n);return e}const te="mobile",ne="tablet",ie="desktop";function oe(n){let e=!1;return(ee().bpXS||n===ne||n===ie)&&(e=!0),e}const m="o-summary";function S(n){const e=P(n,m),r=e.classList.contains(`${m}--mobile`),s=e.querySelector(`.${m}__content`),a=e.querySelector(`.${m}__btn`);let i,o,l;function f(){return W(e)?(window.addEventListener("load",g),this):this}function g(){window.removeEventListener("load",g),l=!k(),u(e,"behavior_flyout-menu"),u(s,"behavior_flyout-menu_content"),u(a,"behavior_flyout-menu_trigger"),o=new U(e,!1),i=new p(s),i.init(l?p.CLASSES.MH_SUMMARY:p.CLASSES.MH_DEFAULT),o.setTransition(i,i.maxHeightSummary,i.maxHeightDefault),o.addEventListener("triggerclick",X),o.init(),h(),window.addEventListener("resize",h),"onorientationchange"in window&&window.addEventListener("orientationchange",h),e.addEventListener("focusin",c),s.addEventListener("click",d)}function c(L){!l&&L.target!==a&&(a.click(),e.removeEventListener("focusin",c))}function d(L){L.target.tagName!=="A"&&o.isExpanded()&&i.refresh()}function h(){k()?G():K()}function k(){return r&&!oe(te)||s.scrollHeight<=88}function X(){o.addEventListener("expandend",O)}function O(){C(),window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h),o.removeEventListener("expandend",O),o.suspend(),i.remove()}function Y(){a.classList.remove("u-hidden")}function C(){a.classList.add("u-hidden")}function K(){return l&&(o.collapse(),i.animateOn(),Y(),l=!1),!l}function G(){return l||(i.animateOff(),o.expand(),C(),l=!0),l}const E=new R;return this.addEventListener=E.addEventListener,this.removeEventListener=E.removeEventListener,this.dispatchEvent=E.dispatchEvent,this.init=f,this}S.BASE_CLASS=m;S.init=n=>V(`.${m}`,S,n);const b="o-summary-minimal";function _(n){const e=P(n,b),r=e.querySelector(`.${b}__content`),s=e.querySelector(`.${b}__btn`);let a,i;function o(){return W(e)?(u(e,"behavior_flyout-menu"),u(r,"behavior_flyout-menu_content"),u(s,"behavior_flyout-menu_trigger"),window.addEventListener("load",l),this):this}function l(){window.removeEventListener("load",l),i=new U(e,!1),a=new p(r),a.init(p.CLASSES.MH_SUMMARY),i.setTransition(a,a.maxHeightSummary,a.maxHeightDefault),i.init(),e.addEventListener("focusin",f),r.addEventListener("click",g),i.collapse(),a.animateOn()}function f(d){d.target!==s&&(s.click(),e.removeEventListener("focusin",f))}function g(d){d.target.tagName!=="A"&&i.isExpanded()&&a.refresh()}const c=new R;return this.addEventListener=c.addEventListener,this.removeEventListener=c.removeEventListener,this.dispatchEvent=c.dispatchEvent,this.init=o,this}_.BASE_CLASS=b;_.init=n=>V(`.${b}`,_,n);const T=({children:n,label:e="Show full text",isMobileOnly:r=!1,isMinimal:s=!1,className:a="",...i})=>{Q.useEffect(()=>{s?_.init():S.init(),document.readyState==="complete"&&window.dispatchEvent(new Event("load"))},[s]);const o=s?"o-summary-minimal":"o-summary",l=[o,a];return r&&l.push(`${o}--mobile`),t.jsxs("div",{className:J(l),...i,children:[t.jsx("div",{className:`${o}__content`,children:n}),t.jsx("button",{type:"button",className:`${o}__btn`,children:s?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"o-summary-minimal__cue-open",children:["Show ",t.jsx(M,{name:"plus",isPresentational:!0,withBg:!0})]}),t.jsxs("span",{className:"o-summary-minimal__cue-close",children:["Hide ",t.jsx(M,{name:"minus",isPresentational:!0,withBg:!0})]})]}):t.jsxs(t.Fragment,{children:[e,t.jsx(M,{name:"plus",isPresentational:!0,withBg:!0})]})})]})};try{T.displayName="Summary",T.__docgenInfo={description:`Summary components hides content over a certain height. When the hidden content is shown it can’t be reverted to the summary until the page is reloaded.

Source: <a href='https://cfpb.github.io/design-system/components/summaries' target='_blank'>https://cfpb.github.io/design-system/components/summaries</a>`,displayName:"Summary",props:{label:{defaultValue:{value:"Show full text"},description:"Label for the toggle button",name:"label",required:!1,type:{name:"string"}},isMobileOnly:{defaultValue:{value:"false"},description:"Whether the summary behavior should only apply on mobile viewports",name:"isMobileOnly",required:!1,type:{name:"boolean"}},isMinimal:{defaultValue:{value:"false"},description:"Use the minimal variation with toggle capabilities",name:"isMinimal",required:!1,type:{name:"boolean"}}}}}catch{}const ve={title:"Components (Draft)/Summaries",component:T,tags:["autodocs"],argTypes:{label:{control:"text",description:"Label for the toggle button"},isMobileOnly:{control:"boolean",description:"Whether the summary behavior should only apply on mobile viewports"}}},j=t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"This is a long block of text that should be truncated by the Summary component. The component is designed to automatically wrap long blocks of content and provide a toggle button to reveal the full text when the content exceeds a certain height (typically 88px or 5.5em)."}),t.jsxs("p",{children:["By default, the Summary component is always active, but it can also be configured to only apply the summary behavior on mobile viewports using the ",t.jsx("code",{children:"isMobileOnly"})," prop."]}),t.jsx("p",{children:'The button label can be customized as well. In this example, we are using the default label "Show full text". When the user clicks the button, the content expands to its full height and the button is hidden.'}),t.jsx("p",{children:"This implementation follows the CFPB Design System standards for summaries, ensuring a consistent user experience across platforms."})]}),y={name:"Default",args:{label:"Show full text",children:j}},w={name:"Mobile-only",args:{label:"Show full text",isMobileOnly:!0,children:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:'This summary behavior will only be applied on mobile viewports (widths below 600px). On larger screens, the content will be fully visible and the "Show full text" button will be hidden.'}),t.jsx("p",{children:"Try resizing your browser or switching to a mobile view in Storybook to see the behavior change."}),j]})}},x={name:"Minimal",args:{label:"Show full text",isMinimal:!0,children:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:'This summary behavior will only be applied on mobile viewports (widths below 600px). On larger screens, the content will be fully visible and the "Show full text" button will be hidden.'}),t.jsx("p",{children:"Try resizing your browser or switching to a mobile view in Storybook to see the behavior change."}),j]})}};var A,H,D;y.parameters={...y.parameters,docs:{...(A=y.parameters)==null?void 0:A.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    label: 'Show full text',
    children: longTextContent
  }
}`,...(D=(H=y.parameters)==null?void 0:H.docs)==null?void 0:D.source}}};var I,F,N;w.parameters={...w.parameters,docs:{...(I=w.parameters)==null?void 0:I.docs,source:{originalSource:`{
  name: 'Mobile-only',
  args: {
    label: 'Show full text',
    isMobileOnly: true,
    children: <>
        <p>
          This summary behavior will only be applied on mobile viewports (widths
          below 600px). On larger screens, the content will be fully visible and
          the &quot;Show full text&quot; button will be hidden.
        </p>
        <p>
          Try resizing your browser or switching to a mobile view in Storybook
          to see the behavior change.
        </p>
        {longTextContent}
      </>
  }
}`,...(N=(F=w.parameters)==null?void 0:F.docs)==null?void 0:N.source}}};var $,q,z;x.parameters={...x.parameters,docs:{...($=x.parameters)==null?void 0:$.docs,source:{originalSource:`{
  name: 'Minimal',
  args: {
    label: 'Show full text',
    isMinimal: true,
    children: <>
        <p>
          This summary behavior will only be applied on mobile viewports (widths
          below 600px). On larger screens, the content will be fully visible and
          the &quot;Show full text&quot; button will be hidden.
        </p>
        <p>
          Try resizing your browser or switching to a mobile view in Storybook
          to see the behavior change.
        </p>
        {longTextContent}
      </>
  }
}`,...(z=(q=x.parameters)==null?void 0:q.docs)==null?void 0:z.source}}};const ye=["Default","MobileOnly","Minimal"];export{y as Default,x as Minimal,w as MobileOnly,ye as __namedExportsOrder,ve as default};
